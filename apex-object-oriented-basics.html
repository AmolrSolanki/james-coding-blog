<!DOCTYPE html><html><head><title>Joys Of Apex | Apex Object-Oriented Basics</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"><meta name="robots" content="index,follow"><meta name="theme-color" content="#212121"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><link rel="shortcut icon" href="/joys-of-apex/favicon.ico"><link href="https://fonts.googleapis.com/css?family=Hind:400,700&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:300,400&amp;display=swap" rel="stylesheet"><link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined" rel="stylesheet"><style>
      body, input, button {
        font-family: 'Hind', sans-serif;
      }

      code, .hljs {
        font-family: 'Source Code Pro', 'Courier New', Courier, monospace;
      }

      .icon-font {
        font-family: 'Material Icons';
        font-weight: normal;
        font-style: normal;
        font-size: 24px;  /* Preferred icon size */
        display: inline-block;
        line-height: 1;
        text-transform: none;
        letter-spacing: normal;
        word-wrap: normal;
        white-space: nowrap;
        direction: ltr;
      
        /* Support for all WebKit browsers. */
        -webkit-font-smoothing: antialiased;
        /* Support for Safari and Chrome. */
        text-rendering: optimizeLegibility;
      
        /* Support for Firefox. */
        -moz-osx-font-smoothing: grayscale;
      
        /* Support for IE. */
        font-feature-settings: 'liga';
      }

      .icon-font.outline {
        font-family: 'Material Icons Outlined';
      }
    </style><link href="/joys-of-apex/styles/codedoc-styles.css" rel="stylesheet"><script async="" defer="" src="/joys-of-apex/bundle/codedoc-bundle.js"></script><meta property="og:image" content="./img/joys-of-apex-thumbnail.png"><script>window.githubConfig={"repo":"james-coding-blog","user":"jamessimone"}</script><style>.container{padding-top: 0 !important}</style><style>#-codedoc-toc { backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px) }</style><meta name="twitter:title" content="Joys Of Apex | Apex Object-Oriented Basics"><meta property="og:type" content="article"><meta property="og:title" content="Joys Of Apex | Apex Object-Oriented Basics"></head><body><header style="margin-left: 1rem">Read more at <a href="https://wwww.jamessimone.net">jamessimone.net</a>, or return to the <a href="/joys-of-apex/">homepage</a></header><div id="-codedoc-container" class="container"><script>window.source = {"base":"posts","path":"apex-object-oriented-basics.md","namespace":"/joys-of-apex","title":{"base":"Joys Of Apex","connector":" | "}}</script><div class="hero-0-0-8" style="margin-bottom: -156px"><img src="/joys-of-apex/img/the-joys-of-apex.png" class="image-0-0-9" data-hero=""><span class="caption-0-0-10"></span></div><marker><br>
<br>
<br>
<br>
<br>

</marker><h1 class="h-0-0-11 "><span style="color: green; 
      text-shadow: none; 
      font-size: 48px"><p>Apex Object-Oriented Basics</p></span></h1><script id="eUaMAXphuN">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("eUaMAXphuN", "kRzsgnV+B7EQTskbovy+YA==", {"src":"github","date":"2020-03-18T15:12:03.284Z"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div hidden="" data-ignore-text="" data-meta-override-property="og:image"><p>./img/joys-of-apex-thumbnail.png</p></div><p>I've received a number of requests asking for a little background on Apex, so I've decided to create this little tutorial from the ground up. We'll be covering a number of different topics, including:</p><ul><li>object-oriented programming basics, static types, and encapsulation, use of the word "this"</li><li>inheritance: virtual and abstract classes, as well as interfaces, the use of the "protected" and "super" keywords</li><li>the power of polymorphism</li><li>addendum: "transient" keyword</li></ul><p>But before we begin, let's back up a step further and ask the question: <em>why is writing quality code important</em>?</p><h2 id="the-importance-of-code-quality-and-compassion" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>The Importance of Code Quality (And Compassion)</h2><p>Writing quality code is an exercise, just as being compassionate is something we should all work towards. Nobody starts off writing perfect code, nor should anybody expect that of themselves. We all write code for various reasons: either because we're paid to do so or we enjoy it, our end goal in writing code should not be to write code, but to accomplish things. Our client/company needs a feature. We need functionality. In the end, the "writing of it" is often separate from the "how it works," and that is to our detriment. Developers who think their only responsibility should be writing code frequently seem surprised when their code doesn't work as intended.</p><p>Salesforce has spent billions making Apex, Lightning Web Components, etc ... into the lowest possible programming denominator (with the possible exception of those other leveler-of-playing-fields: JavaScript and Python). We're not God's gift to mankind by virtue of our ability to write something in possibly the most well-documented languages on the planet. Rather, the real gift that we should foster and focus on is our ability to identify problems and solve them in a sensible fashion; to be able to pick up where we left off when returning to something, and to be able to help our users. There's a reason a whole industry has sprung up preaching to programmers the importance of clean code -- it costs hundreds of billions of dollars a year for corporations to make changes to their codebases. The cost of programming hubris -- from un-needed complexity, to undetected or difficult to track down bugs -- goes undiagnosed, but is certifiably real. Trying to save money by spending a little bit more time upfront is almost always worth it. Similarly, practicing compassion towards the needs of others tends to foster the ability to be more compassionate with yourself.</p><h2 id="object-oriented-programming-basics" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Object Oriented Programming Basics</h2><p>Apex is a <strong>statically typed</strong>, object-oriented language. What does that mean, practically? It means that all constructs that you create extend from an abstract type, <code>Object</code> - which has two methods on it, both of which can also be <em>overridden</em> by you (more on overriding later):</p><ul><li>equals (allows you to say things like: <code>the letter a does not equal the letter b</code>)</li><li>hashCode (should return the same value each time it is called during an object's lifetime, does not need to be unique, but determines an object's uniqueness in a Set/Map collection)</li></ul><p>A programming language is statically typed if all objects within the code have a known type while the code is running. Putting the two together, we can create objects - or distinct <em>instances</em> of a type:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public class Foo {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    // you now have created a template"><span class="lineCounter-0-0-15">2</span>    <span class="token comment">// you now have created a template</span></div><br><div class="line-0-0-16 " data-content="    //for objects corresponding to type Foo"><span class="lineCounter-0-0-15">3</span>    <span class="token comment">//for objects corresponding to type Foo</span></div><br><div class="line-0-0-16 " data-content="    //Foo is a child of the base Object class"><span class="lineCounter-0-0-15">4</span>    <span class="token comment">//Foo is a child of the base Object class</span></div><br><div class="line-0-0-16 " data-content="    //as we will see below"><span class="lineCounter-0-0-15 prim">5</span>    <span class="token comment">//as we will see below</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">6</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">7</span></div><br><div class="line-0-0-16 " data-content="//All objects have types."><span class="lineCounter-0-0-15">8</span><span class="token comment">//All objects have types.</span></div><br><div class="line-0-0-16 " data-content="//You can get the type instance for an object"><span class="lineCounter-0-0-15">9</span><span class="token comment">//You can get the type instance for an object</span></div><br><div class="line-0-0-16 " data-content="//by calling &quot;.class&quot; after its name, or through"><span class="lineCounter-0-0-15 prim">10</span><span class="token comment">//by calling ".class" after its name, or through</span></div><br><div class="line-0-0-16 " data-content="//the method Type.forName('Foo')"><span class="lineCounter-0-0-15">11</span><span class="token comment">//the method Type.forName('Foo')</span></div><br><div class="line-0-0-16 " data-content="Type fooType = Foo.class;"><span class="lineCounter-0-0-15">12</span><span class="token class-name">Type</span> fooType <span class="token operator">=</span> <span class="token class-name">Foo</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="System.debug(fooType.hashCode());"><span class="lineCounter-0-0-15">13</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span>fooType<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="System.debug(new Foo().hashCode());"><span class="lineCounter-0-0-15 prim">14</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br></code></pre><p>Running those statements in an Anonymous Apex console window (yes, you can create classes within Anonymous Apex!) produces:</p><pre class=""><code class="bash code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="USER_DEBUG [6]|DEBUG|70822"><span class="lineCounter-0-0-15 prim">1</span>USER_DEBUG <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">|</span>DEBUG<span class="token operator">|</span><span class="token number">70822</span></div><br><div class="line-0-0-16 " data-content="USER_DEBUG [7]|DEBUG|1827246551"><span class="lineCounter-0-0-15 prim">2</span>USER_DEBUG <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token operator">|</span>DEBUG<span class="token operator">|</span><span class="token number">1827246551</span></div><br></code></pre><p>You'll notice that the hashCode for the instance of the Foo object is substantially smaller than that of an actual instance of Foo, which is produced through the use of the <code>new</code> keyword. In object-oriented languages, you create (or initialize, or instantiate) objects through the use of the keyword <code>new</code> -- this "calls" (or invokes) the <strong>constructor</strong> of an object. If a constructor is not defined for an object, the object uses a <strong>default constructor</strong> to create itself.</p><p>Without a constructor, you lack a way to initialize values to sensible defaults:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public class SpecialNumber {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpecialNumber</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  //this object now has a property"><span class="lineCounter-0-0-15">2</span>  <span class="token comment">//this object now has a property</span></div><br><div class="line-0-0-16 " data-content="  //called Number"><span class="lineCounter-0-0-15">3</span>  <span class="token comment">//called Number</span></div><br><div class="line-0-0-16 " data-content="  public Integer Number;"><span class="lineCounter-0-0-15">4</span>  <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token class-name">Number</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">5</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">6</span></div><br><div class="line-0-0-16 " data-content="//produces a null-reference exception - ouch!"><span class="lineCounter-0-0-15">7</span><span class="token comment">//produces a null-reference exception - ouch!</span></div><br><div class="line-0-0-16 " data-content="new SpecialNumber().Number.format()"><span class="lineCounter-0-0-15 prim">8</span><span class="token keyword">new</span> <span class="token class-name">SpecialNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token class-name">Number</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span></div><br></code></pre><p>With a constructor, you can do things like set up sensible defaults for your object's properties:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public class SpecialNumber {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpecialNumber</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  //the constructor ALWAYS"><span class="lineCounter-0-0-15">2</span>  <span class="token comment">//the constructor ALWAYS</span></div><br><div class="line-0-0-16 " data-content="  //has the same name as the class"><span class="lineCounter-0-0-15">3</span>  <span class="token comment">//has the same name as the class</span></div><br><div class="line-0-0-16 " data-content="  public SpecialNumber() {"><span class="lineCounter-0-0-15">4</span>  <span class="token keyword">public</span> <span class="token class-name">SpecialNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    //&quot;this.&quot; is optional"><span class="lineCounter-0-0-15 prim">5</span>    <span class="token comment">//"this." is optional</span></div><br><div class="line-0-0-16 " data-content="    //later we'll review why I prefer"><span class="lineCounter-0-0-15">6</span>    <span class="token comment">//later we'll review why I prefer</span></div><br><div class="line-0-0-16 " data-content="    //the use of &quot;this&quot; in classes"><span class="lineCounter-0-0-15">7</span>    <span class="token comment">//the use of "this" in classes</span></div><br><div class="line-0-0-16 " data-content="    this.Num = 0;"><span class="lineCounter-0-0-15">8</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token class-name">Num</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">9</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">10</span></div><br><div class="line-0-0-16 " data-content="  public Integer Num;"><span class="lineCounter-0-0-15">11</span>  <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token class-name">Num</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">12</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">13</span></div><br><div class="line-0-0-16 " data-content="//prints '0'"><span class="lineCounter-0-0-15">14</span><span class="token comment">//prints '0'</span></div><br><div class="line-0-0-16 " data-content="new SpecialNumber().Number.format();"><span class="lineCounter-0-0-15 prim">15</span><span class="token keyword">new</span> <span class="token class-name">SpecialNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token class-name">Number</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br></code></pre><p>By default, all objects have a <strong>zero-argument constructor</strong>; once you have defined a constructor for your object, though, it no longer has a zero-argument constructor by default:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public class SpecialNumber {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpecialNumber</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  //you might even test"><span class="lineCounter-0-0-15">2</span>  <span class="token comment">//you might even test</span></div><br><div class="line-0-0-16 " data-content="  //that the number coming is null"><span class="lineCounter-0-0-15">3</span>  <span class="token comment">//that the number coming is null</span></div><br><div class="line-0-0-16 " data-content="  //and fall-back to a sensible default"><span class="lineCounter-0-0-15">4</span>  <span class="token comment">//and fall-back to a sensible default</span></div><br><div class="line-0-0-16 " data-content="  //but in general, we try to avoid complex logic"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token comment">//but in general, we try to avoid complex logic</span></div><br><div class="line-0-0-16 " data-content="  //within constructors"><span class="lineCounter-0-0-15">6</span>  <span class="token comment">//within constructors</span></div><br><div class="line-0-0-16 " data-content="  public SpecialNumber(Integer num) {"><span class="lineCounter-0-0-15">7</span>  <span class="token keyword">public</span> <span class="token class-name">SpecialNumber</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      this.num = num;"><span class="lineCounter-0-0-15">8</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">=</span> num<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">9</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  public Integer Num;"><span class="lineCounter-0-0-15 prim">10</span>  <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token class-name">Num</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">11</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">12</span></div><br><div class="line-0-0-16 " data-content="//aw jeez, we just produced another error, this time for ..."><span class="lineCounter-0-0-15">13</span><span class="token comment">//aw jeez, we just produced another error, this time for ...</span></div><br><div class="line-0-0-16 " data-content="SpecialNumber somethingSpecial = new SpecialNumber();"><span class="lineCounter-0-0-15">14</span><span class="token class-name">SpecialNumber</span> somethingSpecial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpecialNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="//Constructor not defined: [SpecialNumber].<Constructor>()"><span class="lineCounter-0-0-15 prim">15</span><span class="token comment">//Constructor not defined: [SpecialNumber].&lt;Constructor&gt;()</span></div><br></code></pre><p>But you can always bring back your zero-argument constructor -- an object can have as many constructors as you'd like:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public class SpecialNumber {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpecialNumber</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  public SpecialNumber() {"><span class="lineCounter-0-0-15">2</span>  <span class="token keyword">public</span> <span class="token class-name">SpecialNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      this.num = 0;"><span class="lineCounter-0-0-15">3</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">4</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  public SpecialNumber(Integer num) {"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token keyword">public</span> <span class="token class-name">SpecialNumber</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      this.num = num;"><span class="lineCounter-0-0-15">6</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">=</span> num<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">7</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  public Integer Num;"><span class="lineCounter-0-0-15">8</span>  <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token class-name">Num</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">9</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">10</span></div><br><div class="line-0-0-16 " data-content="//this works just fine"><span class="lineCounter-0-0-15">11</span><span class="token comment">//this works just fine</span></div><br><div class="line-0-0-16 " data-content="SpecialNumber somethingSpecial = new SpecialNumber();"><span class="lineCounter-0-0-15 prim">12</span><span class="token class-name">SpecialNumber</span> somethingSpecial <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpecialNumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br></code></pre><p>In some languages, you can also define a <strong>destructor</strong> for your object, with defined logic for what to do when that object is garbage collected. Not here, though. Garbage collection is an extremely interesting (and fraught) topic which we won't cover in great detail. Suffice to say, there's a reason that Rust is gaining popularity in the programming world -- when you initialize something, as we just did, when storing an instance of <code>SpecialNumber</code> in the variable <code>somethingSpecial</code>, Apex now needs to allocate memory for that object. It needs to know when it's safe to <em>stop</em> holding that object in memory. This is one of the reasons why Salesforce has heap size limits for Apex -- it needs to verify that you don't exceed the memory available at a given time in your instance when performing computing. Clearing the available memory of unused objects? That's garbage collection. Let's move on.</p><h3 id="the-importance-of-encapsulation-accessors-publicprivate" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>The Importance Of Encapsulation (Accessors: Public/Private)</h3><p>One of the central tenets in object-oriented programming is that objects encapsulate their internals. What does that mean, practically? It means that the programmer is averse to letting users of their object -- even if that user is the same person who wrote the code for the object in question -- reference things that they shouldn't outside of it. In our <code>SpecialNumber</code> example, we've just committed the cardinal sin, therefore, of exposing the <code>Num</code> property. We've also failed to signal intent, by virtue of poor naming. Let's fix both of those things:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public class EmployeeFacts {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EmployeeFacts</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  public EmployeeFacts() {"><span class="lineCounter-0-0-15">2</span>  <span class="token keyword">public</span> <span class="token class-name">EmployeeFacts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this.DaysOffAllowance = 0;"><span class="lineCounter-0-0-15">3</span>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token class-name">DaysOffAllowance</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">4</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">5</span></div><br><div class="line-0-0-16 " data-content="  public Integer DaysOffAllowance { get; private set; }"><span class="lineCounter-0-0-15">6</span>  <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token class-name">DaysOffAllowance</span> <span class="token punctuation">{</span> get<span class="token punctuation">;</span> <span class="token keyword">private</span> set<span class="token punctuation">;</span> <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">7</span><span class="token punctuation">}</span></div><br></code></pre><p>Now we're getting somewhere. By changing the name to something associated with our company/client's <em>domain</em>, we're making the code accessible not only to ourselves, in the moment of writing it, but to users and stakeholders years down the line. It doesn't take a genius to figure out, without knowing anything about programming, that this object is going to be used to store data about employees. Communicating intent through the use of good names is one of the hardest things we can do when writing code.</p><p>In truth, defining a property on a class by simply giving it a type and name is equivalent to this syntax:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public Integer DaysOffAllowance { get; set; }"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token class-name">DaysOffAllowance</span> <span class="token punctuation">{</span> get<span class="token punctuation">;</span> set<span class="token punctuation">;</span> <span class="token punctuation">}</span></div><br></code></pre><p>The "get/set" syntax defines how the property is <em>accessed</em>. The "public/private" keywords denote <em>who</em> can access. The "<strong>private</strong> set" example now makes it impossible for other consumers of the <code>EmployeeFacts</code> object to update the stored value for the <code>DaysOffAllowance</code> property; a "private" accessor says "no!" to being referenced outside of the object it's within. When something is <strong>public</strong>, it can be seen and accesssed by any other class or code (in the same namespace, but more on that later).</p><p><strong>Getters</strong> and <strong>setters</strong>, as they're known, are very versatile manipulators of <em>object members</em> (we sometimes refer to properties on an object as its "members", or "member variables", or "instance variables"). But in order to proceed further, we need to introduce methods, or functions. Let's look at the function syntax for getters/setters, using what's known as a "backing variable", and the fairly dense syntax:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//in EmployeeFacts"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//in EmployeeFacts</span></div><br><div class="line-0-0-16 " data-content="//the &quot;_p&quot; stands for private"><span class="lineCounter-0-0-15">2</span><span class="token comment">//the "_p" stands for private</span></div><br><div class="line-0-0-16 " data-content="//this used to be fairly commonplace in Java codebases"><span class="lineCounter-0-0-15">3</span><span class="token comment">//this used to be fairly commonplace in Java codebases</span></div><br><div class="line-0-0-16 " data-content="//in C#, variables can start off with an underscore"><span class="lineCounter-0-0-15">4</span><span class="token comment">//in C#, variables can start off with an underscore</span></div><br><div class="line-0-0-16 " data-content="//and you see a lot of _privateVariableNaming"><span class="lineCounter-0-0-15 prim">5</span><span class="token comment">//and you see a lot of _privateVariableNaming</span></div><br><div class="line-0-0-16 " data-content="private Boolean hasDaysOff() {"><span class="lineCounter-0-0-15">6</span><span class="token keyword">private</span> <span class="token class-name">Boolean</span> <span class="token function">hasDaysOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  if(DaysOffAllowance_p < 5) {"><span class="lineCounter-0-0-15">7</span>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">DaysOffAllowance_p</span> <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    return false;"><span class="lineCounter-0-0-15">8</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">9</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  return true;"><span class="lineCounter-0-0-15 prim">10</span>  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">11</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">12</span></div><br><div class="line-0-0-16 " data-content="private Integer DaysOffAllowance_p;"><span class="lineCounter-0-0-15">13</span><span class="token keyword">private</span> <span class="token class-name">Integer</span> <span class="token class-name">DaysOffAllowance_p</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="public Integer DaysOffAllowance {"><span class="lineCounter-0-0-15">14</span><span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token class-name">DaysOffAllowance</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  get {"><span class="lineCounter-0-0-15 prim">15</span>  get <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    if(hasDaysOff()) {"><span class="lineCounter-0-0-15">16</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">hasDaysOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      return DaysOffAllowance_p;"><span class="lineCounter-0-0-15">17</span>      <span class="token keyword">return</span> <span class="token class-name">DaysOffAllowance_p</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    } else {"><span class="lineCounter-0-0-15">18</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      return 0;"><span class="lineCounter-0-0-15">19</span>      <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15 prim">20</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">21</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  set {"><span class="lineCounter-0-0-15">22</span>  set <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    DaysOffAllowance_p = value;"><span class="lineCounter-0-0-15">23</span>    <span class="token class-name">DaysOffAllowance_p</span> <span class="token operator">=</span> value<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">24</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">25</span><span class="token punctuation">}</span></div><br></code></pre><p>There's a lot going on here -- and the syntax is fairly awful to look at. Methods either return a type, using the keyword <code>return</code>, or they are defined as <code>void</code> -- they return nothing. You can "capture" what's returned from a method by setting a variable of the same type (or a type further up the object chain, more on that in a bit) equal to it. Thus, these two things are functionally equivalent to one another:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="private Boolean hasDaysOff() {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">private</span> <span class="token class-name">Boolean</span> <span class="token function">hasDaysOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  if(DaysOffAllowance_p < 5) {"><span class="lineCounter-0-0-15">2</span>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">DaysOffAllowance_p</span> <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    return false;"><span class="lineCounter-0-0-15">3</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">4</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  return true;"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">6</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">7</span></div><br><div class="line-0-0-16 " data-content="public Integer DaysOffAllowance {"><span class="lineCounter-0-0-15">8</span><span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token class-name">DaysOffAllowance</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  get {"><span class="lineCounter-0-0-15">9</span>  get <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    //this time we'll store a reference"><span class="lineCounter-0-0-15 prim">10</span>    <span class="token comment">//this time we'll store a reference</span></div><br><div class="line-0-0-16 " data-content="    //to the variable and THEN use it"><span class="lineCounter-0-0-15">11</span>    <span class="token comment">//to the variable and THEN use it</span></div><br><div class="line-0-0-16 " data-content="    Boolean hasDaysOff = this.hasDaysOff();"><span class="lineCounter-0-0-15">12</span>    <span class="token class-name">Boolean</span> hasDaysOff <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hasDaysOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    if(hasDaysOff) {"><span class="lineCounter-0-0-15">13</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>hasDaysOff<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      return DaysOffAllowance_p;"><span class="lineCounter-0-0-15">14</span>      <span class="token keyword">return</span> <span class="token class-name">DaysOffAllowance_p</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    } else {"><span class="lineCounter-0-0-15 prim">15</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      return 0;"><span class="lineCounter-0-0-15">16</span>      <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">17</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">18</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  set {"><span class="lineCounter-0-0-15">19</span>  set <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    DaysOffAllowance_p = value;"><span class="lineCounter-0-0-15 prim">20</span>    <span class="token class-name">DaysOffAllowance_p</span> <span class="token operator">=</span> value<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">21</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">22</span><span class="token punctuation">}</span></div><br></code></pre><p>You don't <em>have</em> to store the return value for a function -- you <em>do</em> have to avoid setting something equal to a void method. The compiler won't let you do this:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="private void doThings() {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doThings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  //do stuff here"><span class="lineCounter-0-0-15">2</span>  <span class="token comment">//do stuff here</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">3</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">4</span></div><br><div class="line-0-0-16 " data-content="private Boolean otherMethod() {"><span class="lineCounter-0-0-15 prim">5</span><span class="token keyword">private</span> <span class="token class-name">Boolean</span> <span class="token function">otherMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  //this won't compile!"><span class="lineCounter-0-0-15">6</span>  <span class="token comment">//this won't compile!</span></div><br><div class="line-0-0-16 " data-content="  Boolean someValue = this.doThings();"><span class="lineCounter-0-0-15">7</span>  <span class="token class-name">Boolean</span> someValue <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doThings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">8</span><span class="token punctuation">}</span></div><br></code></pre><p>Something to take note of is the "value" referenced in the "set" method: <strong>value</strong> is a special keyword that in this case means "whatever's being passed to DaysOffAllowance."</p><p>This is one of the few instances where Apex is assuredly more powerful than its Java-underpinnings, as we can dispense with the backing variable entirely:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="private Boolean hasDaysOff() {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">private</span> <span class="token class-name">Boolean</span> <span class="token function">hasDaysOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  if(DaysOffAllowance < 5) {"><span class="lineCounter-0-0-15">2</span>  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name">DaysOffAllowance</span> <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    return false;"><span class="lineCounter-0-0-15">3</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">4</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  return true;"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">6</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">7</span></div><br><div class="line-0-0-16 " data-content="public Integer DaysOffAllowance {"><span class="lineCounter-0-0-15">8</span><span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token class-name">DaysOffAllowance</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  get {"><span class="lineCounter-0-0-15">9</span>  get <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    if(hasDaysOff()) {"><span class="lineCounter-0-0-15 prim">10</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">hasDaysOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      //here you can refer to the variable name itself"><span class="lineCounter-0-0-15">11</span>      <span class="token comment">//here you can refer to the variable name itself</span></div><br><div class="line-0-0-16 " data-content="      return DaysOffAllowance;"><span class="lineCounter-0-0-15">12</span>      <span class="token keyword">return</span> <span class="token class-name">DaysOffAllowance</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    } else {"><span class="lineCounter-0-0-15">13</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      return 0;"><span class="lineCounter-0-0-15">14</span>      <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15 prim">15</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">16</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  set;"><span class="lineCounter-0-0-15">17</span>  set<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">18</span><span class="token punctuation">}</span></div><br></code></pre><p>We can also introduce the <strong>ternary</strong> expression, which allows you to use conditional logic to return different things. The ternary syntax is defined by an expression like such <code>conditional that evalates to true or false ? value if true : value if false</code>:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="private Boolean hasDaysOff() {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">private</span> <span class="token class-name">Boolean</span> <span class="token function">hasDaysOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  return DaysOffAllowance < 5 ? false : true;"><span class="lineCounter-0-0-15">2</span>  <span class="token keyword">return</span> <span class="token class-name">DaysOffAllowance</span> <span class="token operator">&lt;</span> <span class="token number">5</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">3</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">4</span></div><br><div class="line-0-0-16 " data-content="public Integer DaysOffAllowance {"><span class="lineCounter-0-0-15 prim">5</span><span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token class-name">DaysOffAllowance</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  get {"><span class="lineCounter-0-0-15">6</span>  get <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    return hasDaysOff() ? DaysOffAllowance : 0;"><span class="lineCounter-0-0-15">7</span>    <span class="token keyword">return</span> <span class="token function">hasDaysOff</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token class-name">DaysOffAllowance</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">8</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  set;"><span class="lineCounter-0-0-15">9</span>  set<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">10</span><span class="token punctuation">}</span></div><br></code></pre><p>That's a lot better. Even if you knew nothing about programming, if you knew that the company you were working for didn't let you take days off until you had 5 days saved up, you could look at this code and glean some of its meaning. I used this particular example to introduce the concepts of:</p><ul><li>member variables</li><li>"backing" variables (not really needed in Apex)</li><li>methods / functions: void methods, return types</li><li>the importance of naming</li><li>accessors (public / private)</li></ul><h3 id="namespacing" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Namespacing</h3><p>In other programming languages, code is typically bundled into separate folders and <strong>namespaced</strong> -- if code is in the same namespace, objects are unique and can't share the same name; if they're in different namespaces, two objects can share the same name. In some languages (like JavaScript) the namespace is really the structure of all the folders, and use of files elsewhere in the system relies on them being imported via relative filepath. In something like C#, the namespace is declared at the top of the class declaration:</p><pre class=""><code class="csharp code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//in C#, you don't have the full"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//in C#, you don't have the full</span></div><br><div class="line-0-0-16 " data-content="//library available to you"><span class="lineCounter-0-0-15">2</span><span class="token comment">//library available to you</span></div><br><div class="line-0-0-16 " data-content="//rather, you import references by namespace"><span class="lineCounter-0-0-15">3</span><span class="token comment">//rather, you import references by namespace</span></div><br><div class="line-0-0-16 " data-content="//when you need to make use of different library"><span class="lineCounter-0-0-15">4</span><span class="token comment">//when you need to make use of different library</span></div><br><div class="line-0-0-16 " data-content="//components"><span class="lineCounter-0-0-15 prim">5</span><span class="token comment">//components</span></div><br><div class="line-0-0-16 " data-content="using System;"><span class="lineCounter-0-0-15">6</span><span class="token keyword">using</span> <span class="token namespace">System</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="using System.Collections.Generic;"><span class="lineCounter-0-0-15">7</span><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Collections<span class="token punctuation">.</span>Generic</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">8</span></div><br><div class="line-0-0-16 " data-content="namespace SalesforceObjects {"><span class="lineCounter-0-0-15">9</span><span class="token keyword">namespace</span> <span class="token namespace">SalesforceObjects</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  public class SalesforceAccount {"><span class="lineCounter-0-0-15 prim">10</span>  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SalesforceAccount</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    public string Name { get; set; }"><span class="lineCounter-0-0-15">11</span>    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="    public List<Datetime> SomeOtherProperties { get; set; }"><span class="lineCounter-0-0-15">12</span>    <span class="token keyword">public</span> <span class="token return-type class-name">List<span class="token punctuation">&lt;</span>Datetime<span class="token punctuation">&gt;</span></span> SomeOtherProperties <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">13</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">14</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">15</span></div><br></code></pre><p>With Apex, all of your code is either stored in <code>src/classes/</code> or <code>src/triggers/</code> and no namespacing is available to you. On the one hand, it's nice that you have access to the entire library's list of standard functions and classes without having to import them; on the other, it would be extremely nice to have the use of more folders to organize your code into different business domains, class types, etc ...</p><h3 id="use-of-the-this-keyword" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Use Of The "This" Keyword</h3><p>When you see a reference to <strong>this</strong> in Apex code, it represents the current object in its entirety. Within an object, I prefer to reference all methods that are non-static (more on that in a second) with the use of the keyword <strong>this</strong> so that I know, 100% for sure, which methods are part of the object's class declaration.</p><p>Take this example, a slight branching from what I typically give with people when talking about the use of the <a href="/joys-of-apex/dependency-injection-factory-pattern">Factory Pattern in Apex</a>:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public class Handler {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Handler</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  public Handler(Factory factory) {"><span class="lineCounter-0-0-15">2</span>  <span class="token keyword">public</span> <span class="token class-name">Handler</span><span class="token punctuation">(</span><span class="token class-name">Factory</span> factory<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    //install dependencies needed in the handle method"><span class="lineCounter-0-0-15">3</span>    <span class="token comment">//install dependencies needed in the handle method</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">4</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">5</span></div><br><div class="line-0-0-16 " data-content="  public void handle(List<SObject> records) {"><span class="lineCounter-0-0-15">6</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SObject</span><span class="token punctuation">&gt;</span></span> records<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    //do something with the records"><span class="lineCounter-0-0-15">7</span>    <span class="token comment">//do something with the records</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">8</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">9</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">10</span></div><br><div class="line-0-0-16 " data-content="//more on abstract classes in a moment!"><span class="lineCounter-0-0-15">11</span><span class="token comment">//more on abstract classes in a moment!</span></div><br><div class="line-0-0-16 " data-content="public abstract class Factory {"><span class="lineCounter-0-0-15">12</span><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Factory</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  public static Handler getSObjectHandler() {"><span class="lineCounter-0-0-15">13</span>  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Handler</span> <span class="token function">getSObjectHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    return new Handler(this);"><span class="lineCounter-0-0-15">14</span>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Handler</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15 prim">15</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">16</span><span class="token punctuation">}</span></div><br></code></pre><p>Painting broad brush-strokes here: because the <code>Factory</code> passes itself through the use of <strong>this</strong>, the <code>Handler</code> class can make use of <em>all</em> the Factory's public methods when setting itself up.</p><h2 id="inheritance-class-and-method-decorations" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Inheritance (Class and Method Decorations)</h2><p>OK, so we've established that all classes in Apex descend from the base <code>Object</code>, and that they <em>inherit</em> two methods from Object: <code>equals</code> and <code>hashCode</code>. When a class inherits from another class, it is said to <em>extend</em> that class. The basic <code>Object</code> inheritance is special, in that it does not need to be declared, but we can observe the effects of that inheritance within Apex easily:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//when you don't know"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//when you don't know</span></div><br><div class="line-0-0-16 " data-content="//the type of something"><span class="lineCounter-0-0-15">2</span><span class="token comment">//the type of something</span></div><br><div class="line-0-0-16 " data-content="//object is ALWAYS allowed"><span class="lineCounter-0-0-15">3</span><span class="token comment">//object is ALWAYS allowed</span></div><br><div class="line-0-0-16 " data-content="//because everything descends from it"><span class="lineCounter-0-0-15">4</span><span class="token comment">//because everything descends from it</span></div><br><div class="line-0-0-16 " data-content="Account acc = new Account();"><span class="lineCounter-0-0-15 prim">5</span><span class="token class-name">Account</span> acc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="Object accountObject = acc;"><span class="lineCounter-0-0-15">6</span><span class="token class-name">Object</span> accountObject <span class="token operator">=</span> acc<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="System.debug(accountObject.equals(acc));"><span class="lineCounter-0-0-15">7</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span>accountObject<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>acc<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="//outputs &quot;true&quot; - after all, &quot;accountObject&quot;"><span class="lineCounter-0-0-15">8</span><span class="token comment">//outputs "true" - after all, "accountObject"</span></div><br><div class="line-0-0-16 " data-content="//and &quot;acc&quot; have the same reference"><span class="lineCounter-0-0-15">9</span><span class="token comment">//and "acc" have the same reference</span></div><br><div class="line-0-0-16 " data-content="//you can also call acc.hashCode() to verify it"><span class="lineCounter-0-0-15 prim">10</span><span class="token comment">//you can also call acc.hashCode() to verify it</span></div><br><div class="line-0-0-16 " data-content="//has access to the Object class's methods"><span class="lineCounter-0-0-15">11</span><span class="token comment">//has access to the Object class's methods</span></div><br><div class="line-0-0-16 " data-content="System.debug(accountObject instanceof Object);"><span class="lineCounter-0-0-15">12</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span>accountObject <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="//outputs &quot;true&quot;, of course!"><span class="lineCounter-0-0-15 prim">13</span><span class="token comment">//outputs "true", of course!</span></div><br></code></pre><p>Inheritance as a concept is an extremely important part of the DRY (don't repeat yourself) toolbelt that developers wield. By defining common sets of behaviors for your objects, you consolidate similar operations into statically typed groups of objects. I've spoken about how this kind of consolidation occurs in prior posts, but to be clear: refactoring, or the process of rewriting code to bundle commonalities while implementing new features, is the <em>best</em> time to find these commonalities and increase code re-use/reduce code repetition through the use of inheritance. Refactoring itself is made safe by having broad test coverage for your business logic -- in itself, a topic for another day, but if you're interested in learning more about how crucial well-written tests will feature in your ability to quickly identify commonalities and make changes without fear of introducing bugs, I would encourage you to explore the other posts in <a href="/joys-of-apex/">The Joys Of Apex</a>.</p><h3 id="inheritance-basics-casting-objects-to-a-specific-type" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Inheritance Basics: Casting Objects To A Specific Type</h3><p>So, every object in the system descends from <code>Object</code> and can be <em>cast</em> to <code>Object</code> as a result. When we cast a variable in Apex, there are two directions that casting can go:</p><ul><li>upwards: if you are casting a class to Object or something further up its inheritance chain, you don't need to use parantheses to accomplish the cast. The compiler <em>knows</em> that each instance of an Salesforce <code>Account</code> object inherits from the Salesforce <code>SObject</code> (more on that in a second), so it's fine letting you cast a child class to a parent type (all the way up to the biggest parent of all, <code>Object</code>)</li><li>downwards: if you have an <code>SObject</code> that you <em>know</em> is an Account, you can tell Apex to cast it to an Account by the use of parantheses. You would want to do this if you wanted to access fields on the Account without using the <code>.get</code> method on SObjects</li></ul><p>So, for example:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="Account acc = new Account();"><span class="lineCounter-0-0-15 prim">1</span><span class="token class-name">Account</span> acc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Account</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="SObject castAccount = acc; //works"><span class="lineCounter-0-0-15">2</span><span class="token class-name">SObject</span> castAccount <span class="token operator">=</span> acc<span class="token punctuation">;</span> <span class="token comment">//works</span></div><br><div class="line-0-0-16 " data-content="//much later on in your code ..."><span class="lineCounter-0-0-15">3</span><span class="token comment">//much later on in your code ...</span></div><br><div class="line-0-0-16 " data-content="//we'll use a method to demonstrate"><span class="lineCounter-0-0-15">4</span><span class="token comment">//we'll use a method to demonstrate</span></div><br><div class="line-0-0-16 " data-content="//that if you only have access to the SObject"><span class="lineCounter-0-0-15 prim">5</span><span class="token comment">//that if you only have access to the SObject</span></div><br><div class="line-0-0-16 " data-content="//but you safely know the type, you can downcast"><span class="lineCounter-0-0-15">6</span><span class="token comment">//but you safely know the type, you can downcast</span></div><br><div class="line-0-0-16 " data-content="private void updateAccountName(SObject castAccount) {"><span class="lineCounter-0-0-15">7</span><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">updateAccountName</span><span class="token punctuation">(</span><span class="token class-name">SObject</span> castAccount<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  Account acc = (Account)castAccount;"><span class="lineCounter-0-0-15">8</span>  <span class="token class-name">Account</span> acc <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Account</span><span class="token punctuation">)</span>castAccount<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  //now we can safely accesss acc.Name for setting"><span class="lineCounter-0-0-15">9</span>  <span class="token comment">//now we can safely accesss acc.Name for setting</span></div><br><div class="line-0-0-16 " data-content="  acc.Name = 'some new name';"><span class="lineCounter-0-0-15 prim">10</span>  acc<span class="token punctuation">.</span><span class="token class-name">Name</span> <span class="token operator">=</span> <span class="token string">'some new name'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  //we could also have done this WITHOUT casting"><span class="lineCounter-0-0-15">11</span>  <span class="token comment">//we could also have done this WITHOUT casting</span></div><br><div class="line-0-0-16 " data-content="  //through the use of the .put method available on SObjects"><span class="lineCounter-0-0-15">12</span>  <span class="token comment">//through the use of the .put method available on SObjects</span></div><br><div class="line-0-0-16 " data-content="  //like castAccount.put(Account.Name, 'some new name');"><span class="lineCounter-0-0-15">13</span>  <span class="token comment">//like castAccount.put(Account.Name, 'some new name');</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">14</span><span class="token punctuation">}</span></div><br></code></pre><p>Downcasting is particularly prevalent in Apex due to the lack of <em>generics</em> in the language. With generics, you can safely define helper methods that help you iterate through lists and other types of collections prior to returning the exact type you'd like. If that sentence didn't make sense, that's OK -- I'll show you an example of why downcasting might be useful by demonstrating a helper method that pretty much everybody should be using:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//I keep this in a class called CollectionUtils"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//I keep this in a class called CollectionUtils</span></div><br><div class="line-0-0-16 " data-content="public static Map<Id, SObject> convertToMap(List<SObject> sObjectList, SObjectField fieldName) {"><span class="lineCounter-0-0-15">2</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Id</span><span class="token punctuation">,</span> <span class="token class-name">SObject</span><span class="token punctuation">&gt;</span></span> <span class="token function">convertToMap</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SObject</span><span class="token punctuation">&gt;</span></span> sObjectList<span class="token punctuation">,</span> <span class="token class-name">SObjectField</span> fieldName<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    Map<Id,SObject> mapping = new Map<Id,SObject>();"><span class="lineCounter-0-0-15">3</span>    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Id</span><span class="token punctuation">,</span><span class="token class-name">SObject</span><span class="token punctuation">&gt;</span></span> mapping <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Id</span><span class="token punctuation">,</span><span class="token class-name">SObject</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    for(SObject sObj : sObjectList) {"><span class="lineCounter-0-0-15">4</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">SObject</span> sObj <span class="token operator">:</span> sObjectList<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="        if(sObj.get(fieldName) == null) continue;"><span class="lineCounter-0-0-15 prim">5</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>sObj<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="        //some people like to use validation that the SObjectField"><span class="lineCounter-0-0-15">6</span>        <span class="token comment">//some people like to use validation that the SObjectField</span></div><br><div class="line-0-0-16 " data-content="        //that's been passed in can actually be cast to an Id field"><span class="lineCounter-0-0-15">7</span>        <span class="token comment">//that's been passed in can actually be cast to an Id field</span></div><br><div class="line-0-0-16 " data-content="        //that's a good idea, but this is a simple example"><span class="lineCounter-0-0-15">8</span>        <span class="token comment">//that's a good idea, but this is a simple example</span></div><br><div class="line-0-0-16 " data-content="        mapping.put((Id)sObj.get(fieldName), sObj);"><span class="lineCounter-0-0-15">9</span>        mapping<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Id</span><span class="token punctuation">)</span>sObj<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">,</span> sObj<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="        //here we had to cast to Id because the method"><span class="lineCounter-0-0-15 prim">10</span>        <span class="token comment">//here we had to cast to Id because the method</span></div><br><div class="line-0-0-16 " data-content="        //SObject.get always returns an Object!"><span class="lineCounter-0-0-15">11</span>        <span class="token comment">//SObject.get always returns an Object!</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">12</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="    return mapping;"><span class="lineCounter-0-0-15">13</span>    <span class="token keyword">return</span> mapping<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">14</span><span class="token punctuation">}</span></div><br></code></pre><div class="tabs-0-0-18"><script id="FxIvkMwUSt">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("FxIvkMwUSt", "T764P9zpaV5eSCd1H0okyw==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="tab first selected" data-tab-title="Inheritance Notes"><p>The reason methods like this are so appealing within Apex is because the compiler knows, via inheritance, that a <code>List&lt;Account&gt;</code> is <em>also</em> a <code>List&lt;SObject&gt;</code>. Many times in Apex we receive Lists back from SOQL queries that are strongly-typed as a specific Salesforce object, and we need to relate instances of that object to another SObject by way of a lookup field. Creating a map where the key is the lookup field in question is crucial to your success in being able to perform complicated logic between two different types of SObjects.</p></div><div class="tab" data-tab-title="Inheritance Footnotes"><p>Indeed, I would advise going further than this helper method and also having one that creates Maps keyed by String or Id to Lists of SObjects, crucial when processing data with a one-to-many relationship</p></div></div><h3 id="so-what-exactly-is-an-sobject" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>So What Exactly <em>Is</em> An SObject?</h3><p>All programming languages come with a standard library. Apex is no exception, adding onto Java's standard library (sometimes in spectacularly helpful ways, like within the <a href="https://developer.salesforce.com/docs/atlas.en-us.apexcode.meta/apexcode/apex_methods_system_string.htm">String Class</a>). Some libraries leave their classes open to be extended (our next topic!); others allow you to use their objects but disallow inheritance. These closed off classes are known as <strong>sealed</strong> classes. You can imagine that somewhere in Salesforce's code repository lives something like the following declaration:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//global - like public, but even more accessible"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//global - like public, but even more accessible</span></div><br><div class="line-0-0-16 " data-content="//more on abstract in a second!"><span class="lineCounter-0-0-15">2</span><span class="token comment">//more on abstract in a second!</span></div><br><div class="line-0-0-16 " data-content="global abstract sealed class SObject {"><span class="lineCounter-0-0-15">3</span>global <span class="token keyword">abstract</span> sealed <span class="token keyword">class</span> <span class="token class-name">SObject</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  global Object get(SObjectField field) {"><span class="lineCounter-0-0-15">4</span>  global <span class="token class-name">Object</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">SObjectField</span> field<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    return this.get(field.getDescribe().getName());"><span class="lineCounter-0-0-15 prim">5</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getDescribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">6</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">7</span></div><br><div class="line-0-0-16 " data-content="  global Object get(String fieldName) {"><span class="lineCounter-0-0-15">8</span>  global <span class="token class-name">Object</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> fieldName<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    return this.sobject.get(fieldName);"><span class="lineCounter-0-0-15">9</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sobject<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>fieldName<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15 prim">10</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  //etc ..."><span class="lineCounter-0-0-15">11</span>  <span class="token comment">//etc ...</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">12</span><span class="token punctuation">}</span></div><br></code></pre><p>That means we get the use of the SObject, which all Salesforce objects are extended from. Or perhaps it's an interface, which all objects inherit from. In either case, we can interact with the methods on the SObject class/type ... but we cannot inherit/extend them. Let's take a walk on the wild side of object inheritance:</p><h3 id="making-objects-inherit-interfaces-abstractvirtual-classes--the-protected-keyword" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Making Objects Inherit: Interfaces, Abstract/Virtual Classes &amp; The Protected Keyword</h3><p>So how does one make a parent object which is later inherited from? There are two ways that inheritance can be accomplished within object-oriented programming:</p><ul><li>through the use of <strong>interfaces</strong>, which have a Type but no instances; with an interface, you declare a common set of behavior through methods, and all objects conforming to the bounds of that interface have to have <em>publicly</em> accessible methods matching their interface. In some programming languages, interfaces can define property names and default method signatures, but in Apex, you can only declare the name, return type, and arguments supplied to your methods. An interface is inherited from by use of the <strong>implements</strong> keyword in a class, and a class can inherit from as many interfaces as you'd like (by comma separating the interface names when declaring the class)</li><li>through the use of an <strong>abstract</strong> class. An abstract class <em>cannot</em> be instantiated through the use of the <strong>new</strong> keyword. If you try to do so, you'll get a compiler error. An abstract class, like an interface, can declare methods; unlike an interface, however, an abstract class can define method bodies, and child classes can either access the abstract methods (or not) depending on the visibility level of the methods. A child class can access its parent class's method if that method is denoted as <strong>protected</strong> or <strong>public</strong>. Child classes <em>cannot</em> access <strong>private</strong> methods of their parent class, though a child class's code may interact with <strong>private</strong> parent methods if a method with public/protected accessibility on the parent class interacts with a private method on the parent class. An abstract class can be inherited from in a child class through the use of the <strong>extends</strong> keyword, and a class can only be the extension of one parent class. If an abstract class defines a constructor, classes extending from it must use the <strong>super</strong> keyword, as well as any constructor arguments defined in the parent class, as the first thing done in their own constructor. Failure to do so will lead to a compiler error.</li><li>through the use of a <strong>virtual</strong> class. A virtual class differs from an abstract one primarily in the sense that it can be instantiated through the <strong>new</strong> keyword. Otherwise, it conforms to the behavior described above</li></ul><p>Let's look at an example of an interface:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//while I'm not crazy about the &quot;I&quot;"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//while I'm not crazy about the "I"</span></div><br><div class="line-0-0-16 " data-content="//nomenclature for interfaces, because Apex lacks"><span class="lineCounter-0-0-15">2</span><span class="token comment">//nomenclature for interfaces, because Apex lacks</span></div><br><div class="line-0-0-16 " data-content="//namespacing, it can be a useful way to distinguish"><span class="lineCounter-0-0-15">3</span><span class="token comment">//namespacing, it can be a useful way to distinguish</span></div><br><div class="line-0-0-16 " data-content="//interfaces from &quot;concrete&quot; objects"><span class="lineCounter-0-0-15">4</span><span class="token comment">//interfaces from "concrete" objects</span></div><br><div class="line-0-0-16 " data-content="public interface IPerson {"><span class="lineCounter-0-0-15 prim">5</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  //interfaces don't declare visibility"><span class="lineCounter-0-0-15">6</span>  <span class="token comment">//interfaces don't declare visibility</span></div><br><div class="line-0-0-16 " data-content="  //modifiers on their methods"><span class="lineCounter-0-0-15">7</span>  <span class="token comment">//modifiers on their methods</span></div><br><div class="line-0-0-16 " data-content="  String getName();"><span class="lineCounter-0-0-15">8</span>  <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">9</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">10</span></div><br><div class="line-0-0-16 " data-content="public class ContactWrapper implements IPerson {"><span class="lineCounter-0-0-15">11</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContactWrapper</span> <span class="token keyword">implements</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  //more on the &quot;final&quot; keyword later"><span class="lineCounter-0-0-15">12</span>  <span class="token comment">//more on the "final" keyword later</span></div><br><div class="line-0-0-16 " data-content="  private final Contact con;"><span class="lineCounter-0-0-15">13</span>  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Contact</span> con<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  public ContactWrapper(Contact con) {"><span class="lineCounter-0-0-15">14</span>  <span class="token keyword">public</span> <span class="token class-name">ContactWrapper</span><span class="token punctuation">(</span><span class="token class-name">Contact</span> con<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this.con = con;"><span class="lineCounter-0-0-15 prim">15</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>con <span class="token operator">=</span> con<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">16</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">17</span></div><br><div class="line-0-0-16 " data-content="  public String getName() {"><span class="lineCounter-0-0-15">18</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    return this.con.FirstName + ' ' + this.con.LastName;"><span class="lineCounter-0-0-15">19</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>con<span class="token punctuation">.</span><span class="token class-name">FirstName</span> <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>con<span class="token punctuation">.</span><span class="token class-name">LastName</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15 prim">20</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">21</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">22</span></div><br><div class="line-0-0-16 " data-content="public class LeadWrapper implements IPerson {"><span class="lineCounter-0-0-15">23</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LeadWrapper</span> <span class="token keyword">implements</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  private final Lead lead;"><span class="lineCounter-0-0-15">24</span>  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Lead</span> lead<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  public LeadWrapper(Lead lead) {"><span class="lineCounter-0-0-15 prim">25</span>  <span class="token keyword">public</span> <span class="token class-name">LeadWrapper</span><span class="token punctuation">(</span><span class="token class-name">Lead</span> lead<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    this.lead = lead;"><span class="lineCounter-0-0-15">26</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>lead <span class="token operator">=</span> lead<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">27</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">28</span></div><br><div class="line-0-0-16 " data-content="  public String getName() {"><span class="lineCounter-0-0-15">29</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    return this.lead.FirstName + ' ' + this.lead.LastName;"><span class="lineCounter-0-0-15 prim">30</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lead<span class="token punctuation">.</span><span class="token class-name">FirstName</span> <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lead<span class="token punctuation">.</span><span class="token class-name">LastName</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">31</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">32</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">33</span></div><br><div class="line-0-0-16 " data-content="Lead lead = new Lead(FirstName = 'Test', LastName = 'Lead');"><span class="lineCounter-0-0-15">34</span><span class="token class-name">Lead</span> lead <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Lead</span><span class="token punctuation">(</span><span class="token class-name">FirstName</span> <span class="token operator">=</span> <span class="token string">'Test'</span><span class="token punctuation">,</span> <span class="token class-name">LastName</span> <span class="token operator">=</span> <span class="token string">'Lead'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="Contact con = new Contact(FirstName = 'Test', LastName = 'Contact');"><span class="lineCounter-0-0-15 prim">35</span><span class="token class-name">Contact</span> con <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token class-name">FirstName</span> <span class="token operator">=</span> <span class="token string">'Test'</span><span class="token punctuation">,</span> <span class="token class-name">LastName</span> <span class="token operator">=</span> <span class="token string">'Contact'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">36</span></div><br><div class="line-0-0-16 " data-content="IPerson leadWrapper = new LeadWrapper(lead);"><span class="lineCounter-0-0-15">37</span><span class="token class-name">IPerson</span> leadWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LeadWrapper</span><span class="token punctuation">(</span>lead<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="IPerson conWrapper = new ContactWrapper(con);"><span class="lineCounter-0-0-15">38</span><span class="token class-name">IPerson</span> conWrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ContactWrapper</span><span class="token punctuation">(</span>con<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">39</span></div><br><div class="line-0-0-16 " data-content="//outputs &quot;Test Lead&quot;"><span class="lineCounter-0-0-15 prim">40</span><span class="token comment">//outputs "Test Lead"</span></div><br><div class="line-0-0-16 " data-content="System.debug(leadWrapper.getName());"><span class="lineCounter-0-0-15">41</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span>leadWrapper<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="//outputs &quot;Test Contact&quot;"><span class="lineCounter-0-0-15">42</span><span class="token comment">//outputs "Test Contact"</span></div><br><div class="line-0-0-16 " data-content="System.debug(conWrapper.getName());"><span class="lineCounter-0-0-15 prim">43</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span>conWrapper<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br></code></pre><p>Notice the use of the <strong>implements</strong> keyword, and that methods defined in an interface must have <em>at least</em> <strong>public</strong> visibility. (I say at least because technically there is a visibility <em>above</em> public, <strong>global</strong>, which means that a class can be accessed from any namespace / external code. We won't get into <strong>global</strong> here, though).</p><p>Notice, also, that though we know the child types of the Contact/LeadWrappers, we can safely set them to <code>IPerson</code> instances because they both inherit from the interface.</p><p>An example like this dovetails nicely into talking about abstract classes, since the implementation of the <code>getName()</code> method on each of the wrappers is essentially the same. Let's look at what this would look like making use of an abstract class. For now, we'll keep the interface (just to show you that you can):</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public abstract class Person implements IPerson {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">implements</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    private final SObject person;"><span class="lineCounter-0-0-15">2</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">SObject</span> person<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    //notice the use of the protected keyword"><span class="lineCounter-0-0-15">3</span>    <span class="token comment">//notice the use of the protected keyword</span></div><br><div class="line-0-0-16 " data-content="    //this means that only classes inheriting from"><span class="lineCounter-0-0-15">4</span>    <span class="token comment">//this means that only classes inheriting from</span></div><br><div class="line-0-0-16 " data-content="    //this class have the use of this constructor"><span class="lineCounter-0-0-15 prim">5</span>    <span class="token comment">//this class have the use of this constructor</span></div><br><div class="line-0-0-16 " data-content="    //you can also make methods protected"><span class="lineCounter-0-0-15">6</span>    <span class="token comment">//you can also make methods protected</span></div><br><div class="line-0-0-16 " data-content="    protected Person(SObject person) {"><span class="lineCounter-0-0-15">7</span>    <span class="token keyword">protected</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">SObject</span> person<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      this.person = person;"><span class="lineCounter-0-0-15">8</span>      <span class="token keyword">this</span><span class="token punctuation">.</span>person <span class="token operator">=</span> person<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">9</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">10</span></div><br><div class="line-0-0-16 " data-content="    public String getName() {"><span class="lineCounter-0-0-15">11</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      return String.valueOf("><span class="lineCounter-0-0-15">12</span>      <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span></div><br><div class="line-0-0-16 " data-content="        this.person.get('FirstName') +"><span class="lineCounter-0-0-15">13</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>person<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'FirstName'</span><span class="token punctuation">)</span> <span class="token operator">+</span></div><br><div class="line-0-0-16 " data-content="        ' ' +"><span class="lineCounter-0-0-15">14</span>        <span class="token string">' '</span> <span class="token operator">+</span></div><br><div class="line-0-0-16 " data-content="        this.person.get('LastName')"><span class="lineCounter-0-0-15 prim">15</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>person<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'LastName'</span><span class="token punctuation">)</span></div><br><div class="line-0-0-16 " data-content="      );"><span class="lineCounter-0-0-15">16</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">17</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">18</span></div><br><div class="line-0-0-16 " data-content="    //abstract methods don't declare bodies"><span class="lineCounter-0-0-15">19</span>    <span class="token comment">//abstract methods don't declare bodies</span></div><br><div class="line-0-0-16 " data-content="    //their implementation must be defined in all"><span class="lineCounter-0-0-15 prim">20</span>    <span class="token comment">//their implementation must be defined in all</span></div><br><div class="line-0-0-16 " data-content="    //classes extending from this one"><span class="lineCounter-0-0-15">21</span>    <span class="token comment">//classes extending from this one</span></div><br><div class="line-0-0-16 " data-content="    public abstract String getUniqueIdentifer();"><span class="lineCounter-0-0-15">22</span>    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">String</span> <span class="token function">getUniqueIdentifer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">23</span></div><br><div class="line-0-0-16 " data-content="    //more on static methods in a second"><span class="lineCounter-0-0-15">24</span>    <span class="token comment">//more on static methods in a second</span></div><br><div class="line-0-0-16 " data-content="    public static Person make(Lead lead) {"><span class="lineCounter-0-0-15 prim">25</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Person</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token class-name">Lead</span> lead<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      return new LeadPerson(lead);"><span class="lineCounter-0-0-15">26</span>      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">LeadPerson</span><span class="token punctuation">(</span>lead<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">27</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">28</span></div><br><div class="line-0-0-16 " data-content="    public static Person make(Contact con) {"><span class="lineCounter-0-0-15">29</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Person</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token class-name">Contact</span> con<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      return new ContactPerson(con);"><span class="lineCounter-0-0-15 prim">30</span>      <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ContactPerson</span><span class="token punctuation">(</span>con<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">31</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">32</span></div><br><div class="line-0-0-16 " data-content="    //classes cannot be protected"><span class="lineCounter-0-0-15">33</span>    <span class="token comment">//classes cannot be protected</span></div><br><div class="line-0-0-16 " data-content="    private virtual class ContactPerson extends Person {"><span class="lineCounter-0-0-15">34</span>    <span class="token keyword">private</span> virtual <span class="token keyword">class</span> <span class="token class-name">ContactPerson</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      protected ContactPerson(SObject contact) {"><span class="lineCounter-0-0-15 prim">35</span>      <span class="token keyword">protected</span> <span class="token class-name">ContactPerson</span><span class="token punctuation">(</span><span class="token class-name">SObject</span> contact<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="        //calling &quot;super&quot; means &quot;call the"><span class="lineCounter-0-0-15">36</span>        <span class="token comment">//calling "super" means "call the</span></div><br><div class="line-0-0-16 " data-content="        //class I am derived from&quot;"><span class="lineCounter-0-0-15">37</span>        <span class="token comment">//class I am derived from"</span></div><br><div class="line-0-0-16 " data-content="        super(contact);"><span class="lineCounter-0-0-15">38</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>contact<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="      }"><span class="lineCounter-0-0-15">39</span>      <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">40</span></div><br><div class="line-0-0-16 " data-content="      public override String getUniqueIdentifier() {"><span class="lineCounter-0-0-15">41</span>      <span class="token keyword">public</span> override <span class="token class-name">String</span> <span class="token function">getUniqueIdentifier</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="        //this could be some specific set of business logic"><span class="lineCounter-0-0-15">42</span>        <span class="token comment">//this could be some specific set of business logic</span></div><br><div class="line-0-0-16 " data-content="        //unique to all of your org's contacts"><span class="lineCounter-0-0-15">43</span>        <span class="token comment">//unique to all of your org's contacts</span></div><br><div class="line-0-0-16 " data-content="        //I'm putting something nonsensical here"><span class="lineCounter-0-0-15">44</span>        <span class="token comment">//I'm putting something nonsensical here</span></div><br><div class="line-0-0-16 " data-content="        //purely to demonstrate how these methods are defined"><span class="lineCounter-0-0-15 prim">45</span>        <span class="token comment">//purely to demonstrate how these methods are defined</span></div><br><div class="line-0-0-16 " data-content="        return String.valueOf(this.hashCode());"><span class="lineCounter-0-0-15">46</span>        <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="      }"><span class="lineCounter-0-0-15">47</span>      <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">48</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">49</span></div><br><div class="line-0-0-16 " data-content="    private virtual class LeadPerson extends Person {"><span class="lineCounter-0-0-15 prim">50</span>    <span class="token keyword">private</span> virtual <span class="token keyword">class</span> <span class="token class-name">LeadPerson</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      protected LeadPerson(SObject lead) {"><span class="lineCounter-0-0-15">51</span>      <span class="token keyword">protected</span> <span class="token class-name">LeadPerson</span><span class="token punctuation">(</span><span class="token class-name">SObject</span> lead<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="        super(lead);"><span class="lineCounter-0-0-15">52</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>lead<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="      }"><span class="lineCounter-0-0-15">53</span>      <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="      public override String getUniqueIdentifier() {"><span class="lineCounter-0-0-15">54</span>      <span class="token keyword">public</span> override <span class="token class-name">String</span> <span class="token function">getUniqueIdentifier</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="        //again, just an example"><span class="lineCounter-0-0-15 prim">55</span>        <span class="token comment">//again, just an example</span></div><br><div class="line-0-0-16 " data-content="        return String.valueOf(this.hashCode() + 'Lead');"><span class="lineCounter-0-0-15">56</span>        <span class="token keyword">return</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'Lead'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="      }"><span class="lineCounter-0-0-15">57</span>      <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">58</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15 prim">59</span>  <span class="token punctuation">}</span></div><br></code></pre><p>There's a lot to discuss here:</p><ul><li>the use of nested classes -- a common object-oriented paradigm when <em>encapsulating</em> business logic. A caller, or client, of this code does not need to know that there are classes called "ContactPerson" and "LeadPerson" -- all they really need to know is that the <code>Person</code> class has two <strong>static</strong> methods on it that can be called to initialize a <code>Person</code>, or an <code>IPerson</code> (since Person is implementing that interface), and that they have access to a method called <code>getName</code>. Note -- an object can have as many inner classes as you desire, but inner classes themselves cannot define inner classes at all. Inner classes are great when your object is small and you want to keep everything self-contained, but if a file is breaking 100+ lines of code, you shold consider breaking your inner classes out into separate files</li><li>the <code>ContactPerson</code> and <code>LeadPerson</code> objects must be defined as <strong>virtual</strong> in order to call their parent class's constructor using the <strong>super</strong> keyword. They are <em>not</em> <strong>abstract</strong> because we are creating instances of them</li><li><strong>abstract</strong> methods are defined using the <strong>override</strong> keyword on all child classes</li><li><strong>final</strong> properties can <em>only</em> be declared with an assignment where they are declared, or within an object's constructor. Unless you absolutely have to, it should be in your practice to declare all properties as final; in general, we want to avoid mutating an object's properties from within its methods. When mutations do occur, it's considered a best-practice to always return a new instance of an object with the change made on the new instance. This is a delicate topic amongst object-oriented developers, and particularly within Apex exceptions to this rule do exist; for example, it's considered to be fairly routine to modify properties on your SObjects without returning new instances of them</li><li><strong>Static</strong> methods are called without a specific instance of an object -- they are available (following their visibility modifier) within a class (but cannot be referenced by something like <code>this.make</code> for this example), or from elsewhere for public static methods:</li></ul><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//in Person.cls"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//in Person.cls</span></div><br><div class="line-0-0-16 " data-content="//calling make is done like such:"><span class="lineCounter-0-0-15">2</span><span class="token comment">//calling make is done like such:</span></div><br><div class="line-0-0-16 " data-content="Contact con;"><span class="lineCounter-0-0-15">3</span><span class="token class-name">Contact</span> con<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="IPerson person = make(con);"><span class="lineCounter-0-0-15">4</span><span class="token class-name">IPerson</span> person <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span>con<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">5</span></div><br><div class="line-0-0-16 " data-content="//outside of Person.cls"><span class="lineCounter-0-0-15">6</span><span class="token comment">//outside of Person.cls</span></div><br><div class="line-0-0-16 " data-content="Contact con;"><span class="lineCounter-0-0-15">7</span><span class="token class-name">Contact</span> con<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="IPerson person = Person.make(con);"><span class="lineCounter-0-0-15">8</span><span class="token class-name">IPerson</span> person <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>con<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">9</span></div><br><div class="line-0-0-16 " data-content="//using &quot;this&quot; with a static method won't compile:"><span class="lineCounter-0-0-15 prim">10</span><span class="token comment">//using "this" with a static method won't compile:</span></div><br><div class="line-0-0-16 " data-content="//in Person.cls"><span class="lineCounter-0-0-15">11</span><span class="token comment">//in Person.cls</span></div><br><div class="line-0-0-16 " data-content="Contact con;"><span class="lineCounter-0-0-15">12</span><span class="token class-name">Contact</span> con<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="this.make(con); // won't compile"><span class="lineCounter-0-0-15 prim">13</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>con<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// won't compile</span></div><br></code></pre><p>Specifically, <strong>static</strong> methods cannot be used in conjunction with the <strong>new</strong> keyword; because they are not tied to a specific instance of an object, they cannot reference member variables or non-static methods.</p><h3 id="a-prelude-to-polymorphism" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>A Prelude to Polymorphism</h3><p>Your code will benefit tremendously in terms of organization and lack of repetition through the use of inheritance. Objects typically arise out of your own ability to recognize patterns between disparate areas in your codebase. I've worked for some orgs where there were extremely long inheritance chains between objects, and orgs that kept it simple with only a few objects extending/inheriting from one another. Different strokes, as they say.</p><p>What does a longer object chain look like in Apex? Let's find out by going back to <code>IPerson</code>:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public interface IPerson {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  String getName();"><span class="lineCounter-0-0-15">2</span>  <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">3</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">4</span></div><br><div class="line-0-0-16 " data-content="//interfaces can extend from other interfaces(!)"><span class="lineCounter-0-0-15 prim">5</span><span class="token comment">//interfaces can extend from other interfaces(!)</span></div><br><div class="line-0-0-16 " data-content="public interface IDealBreaker extends IPerson {"><span class="lineCounter-0-0-15">6</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IDealBreaker</span> <span class="token keyword">extends</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  String getDealBreakerReason();"><span class="lineCounter-0-0-15">7</span>  <span class="token class-name">String</span> <span class="token function">getDealBreakerReason</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">8</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">9</span></div><br><div class="line-0-0-16 " data-content="//in Person.cls"><span class="lineCounter-0-0-15 prim">10</span><span class="token comment">//in Person.cls</span></div><br><div class="line-0-0-16 " data-content="public static DealBreakerPerson make(Lead lead, String dealBreakerReason) {"><span class="lineCounter-0-0-15">11</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">DealBreakerPerson</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token class-name">Lead</span> lead<span class="token punctuation">,</span> <span class="token class-name">String</span> dealBreakerReason<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  return new DealBreakerPerson(lead, dealBreakerReason);"><span class="lineCounter-0-0-15">12</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DealBreakerPerson</span><span class="token punctuation">(</span>lead<span class="token punctuation">,</span> dealBreakerReason<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">13</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">14</span></div><br><div class="line-0-0-16 " data-content="//public since the &quot;make&quot; method references it"><span class="lineCounter-0-0-15 prim">15</span><span class="token comment">//public since the "make" method references it</span></div><br><div class="line-0-0-16 " data-content="//could still be private if the &quot;make&quot; method instead returned IDealBreaker"><span class="lineCounter-0-0-15">16</span><span class="token comment">//could still be private if the "make" method instead returned IDealBreaker</span></div><br><div class="line-0-0-16 " data-content="//&quot;extends&quot; ALWAYS comes before &quot;implements&quot;"><span class="lineCounter-0-0-15">17</span><span class="token comment">//"extends" ALWAYS comes before "implements"</span></div><br><div class="line-0-0-16 " data-content="public virtual class DealBreakerPerson"><span class="lineCounter-0-0-15">18</span><span class="token keyword">public</span> virtual <span class="token keyword">class</span> <span class="token class-name">DealBreakerPerson</span></div><br><div class="line-0-0-16 " data-content="  extends LeadPerson"><span class="lineCounter-0-0-15">19</span>  <span class="token keyword">extends</span> <span class="token class-name">LeadPerson</span></div><br><div class="line-0-0-16 " data-content="  implements IDealBreaker {"><span class="lineCounter-0-0-15 prim">20</span>  <span class="token keyword">implements</span> <span class="token class-name">IDealBreaker</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  private final String dealBreakerReason;"><span class="lineCounter-0-0-15">21</span>  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> dealBreakerReason<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  protected DealBreakerPerson(Lead lead, String dealBreakerReason) {"><span class="lineCounter-0-0-15">22</span>  <span class="token keyword">protected</span> <span class="token class-name">DealBreakerPerson</span><span class="token punctuation">(</span><span class="token class-name">Lead</span> lead<span class="token punctuation">,</span> <span class="token class-name">String</span> dealBreakerReason<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    super(lead);"><span class="lineCounter-0-0-15">23</span>    <span class="token keyword">super</span><span class="token punctuation">(</span>lead<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this.dealBreakerReason = dealBreakerReason;"><span class="lineCounter-0-0-15">24</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>dealBreakerReason <span class="token operator">=</span> dealBreakerReason<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15 prim">25</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">26</span></div><br><div class="line-0-0-16 " data-content="  public String getDealBreakerReason() {"><span class="lineCounter-0-0-15">27</span>  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getDealBreakerReason</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    return this.dealBreakerReason;"><span class="lineCounter-0-0-15">28</span>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dealBreakerReason<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">29</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">30</span><span class="token punctuation">}</span></div><br></code></pre><p>Let's test(!) that everything works as expected, first with some anonymous apex, then in an actual test class (our first example test class!):</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="IPerson lead = Person.make(new Lead());"><span class="lineCounter-0-0-15 prim">1</span><span class="token class-name">IPerson</span> lead <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Lead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="IDealBreakerPerson leadWithDealBreakerReason ="><span class="lineCounter-0-0-15">2</span><span class="token class-name">IDealBreakerPerson</span> leadWithDealBreakerReason <span class="token operator">=</span></div><br><div class="line-0-0-16 " data-content="  Person.make(new Lead(), 'Contract too expensive');"><span class="lineCounter-0-0-15">3</span>  <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Lead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'Contract too expensive'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">4</span></div><br><div class="line-0-0-16 " data-content="//works, because every instance of IDealBreakerPerson"><span class="lineCounter-0-0-15 prim">5</span><span class="token comment">//works, because every instance of IDealBreakerPerson</span></div><br><div class="line-0-0-16 " data-content="//is also an instance of IPerson"><span class="lineCounter-0-0-15">6</span><span class="token comment">//is also an instance of IPerson</span></div><br><div class="line-0-0-16 " data-content="leadWithDealBreakerReason.getName();"><span class="lineCounter-0-0-15">7</span>leadWithDealBreakerReason<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="//doesn't work, LeadPerson doesn't implement getDealBreakerReason"><span class="lineCounter-0-0-15">8</span><span class="token comment">//doesn't work, LeadPerson doesn't implement getDealBreakerReason</span></div><br><div class="line-0-0-16 " data-content="lead.getDealBreakerReason();"><span class="lineCounter-0-0-15">9</span>lead<span class="token punctuation">.</span><span class="token function">getDealBreakerReason</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="//works"><span class="lineCounter-0-0-15 prim">10</span><span class="token comment">//works</span></div><br><div class="line-0-0-16 " data-content="leadWithDealBreakerReason.getName();"><span class="lineCounter-0-0-15">11</span>leadWithDealBreakerReason<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">12</span></div><br><div class="line-0-0-16 " data-content="//and then in actual tests:"><span class="lineCounter-0-0-15">13</span><span class="token comment">//and then in actual tests:</span></div><br><div class="line-0-0-16 " data-content="@isTest"><span class="lineCounter-0-0-15">14</span><span class="token annotation punctuation">@isTest</span></div><br><div class="line-0-0-16 " data-content="private class PersonTests {"><span class="lineCounter-0-0-15 prim">15</span><span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">PersonTests</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    static Lead lead = new Lead(FirstName = 'Test', LastName = 'Person');"><span class="lineCounter-0-0-15">16</span>    <span class="token keyword">static</span> <span class="token class-name">Lead</span> lead <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Lead</span><span class="token punctuation">(</span><span class="token class-name">FirstName</span> <span class="token operator">=</span> <span class="token string">'Test'</span><span class="token punctuation">,</span> <span class="token class-name">LastName</span> <span class="token operator">=</span> <span class="token string">'Person'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">17</span></div><br><div class="line-0-0-16 " data-content="    @isTest"><span class="lineCounter-0-0-15">18</span>    <span class="token annotation punctuation">@isTest</span></div><br><div class="line-0-0-16 " data-content="    static void it_should_return_name_for_lead_person() {"><span class="lineCounter-0-0-15">19</span>    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">it_should_return_name_for_lead_person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="        IPerson person = Person.make(lead);"><span class="lineCounter-0-0-15 prim">20</span>        <span class="token class-name">IPerson</span> person <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>lead<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">21</span></div><br><div class="line-0-0-16 " data-content="        System.assertEquals('Test Person', person.getName());"><span class="lineCounter-0-0-15">22</span>        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">'Test Person'</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">23</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">24</span></div><br><div class="line-0-0-16 " data-content="    @isTest"><span class="lineCounter-0-0-15 prim">25</span>    <span class="token annotation punctuation">@isTest</span></div><br><div class="line-0-0-16 " data-content="    static void it_should_return_name_for_contact_person() {"><span class="lineCounter-0-0-15">26</span>    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">it_should_return_name_for_contact_person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="        IPerson person = Person.make("><span class="lineCounter-0-0-15">27</span>        <span class="token class-name">IPerson</span> person <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span></div><br><div class="line-0-0-16 " data-content="          new Contact(FirstName = 'Test', LastName = 'Contact')"><span class="lineCounter-0-0-15">28</span>          <span class="token keyword">new</span> <span class="token class-name">Contact</span><span class="token punctuation">(</span><span class="token class-name">FirstName</span> <span class="token operator">=</span> <span class="token string">'Test'</span><span class="token punctuation">,</span> <span class="token class-name">LastName</span> <span class="token operator">=</span> <span class="token string">'Contact'</span><span class="token punctuation">)</span></div><br><div class="line-0-0-16 " data-content="        );"><span class="lineCounter-0-0-15">29</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">30</span></div><br><div class="line-0-0-16 " data-content="        System.assertEquals('Test Contact', person.getName());"><span class="lineCounter-0-0-15">31</span>        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">'Test Contact'</span><span class="token punctuation">,</span> person<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">32</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">33</span></div><br><div class="line-0-0-16 " data-content="    @isTest"><span class="lineCounter-0-0-15">34</span>    <span class="token annotation punctuation">@isTest</span></div><br><div class="line-0-0-16 " data-content="    static void it_should_return_name_and_dealbreaker_reason_for_dealbreaker_lead() {"><span class="lineCounter-0-0-15 prim">35</span>    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">it_should_return_name_and_dealbreaker_reason_for_dealbreaker_lead</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="        String dealBreakerReason = 'Contract too expensive';"><span class="lineCounter-0-0-15">36</span>        <span class="token class-name">String</span> dealBreakerReason <span class="token operator">=</span> <span class="token string">'Contract too expensive'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="        IDealBreaker dealbreakerLead = Person.make(lead, dealBreakerReason);"><span class="lineCounter-0-0-15">37</span>        <span class="token class-name">IDealBreaker</span> dealbreakerLead <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>lead<span class="token punctuation">,</span> dealBreakerReason<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">38</span></div><br><div class="line-0-0-16 " data-content="        System.assertEquals('Test Person', dealbreakerLead.getName());"><span class="lineCounter-0-0-15">39</span>        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">'Test Person'</span><span class="token punctuation">,</span> dealbreakerLead<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="        System.assertEquals(dealBreakerReason, dealbreakerLead.getDealBreakerReason());"><span class="lineCounter-0-0-15 prim">40</span>        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span>dealBreakerReason<span class="token punctuation">,</span> dealbreakerLead<span class="token punctuation">.</span><span class="token function">getDealBreakerReason</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">41</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">42</span><span class="token punctuation">}</span></div><br></code></pre><p>Running the tests produces the following:</p><pre class=""><code class="bash code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="[pass] PersonTests: it_should_return_name_and_dealbreaker_reason_for_dealbreaker_lead, time: 0.027s"><span class="lineCounter-0-0-15 prim">1</span><span class="token punctuation">[</span>pass<span class="token punctuation">]</span> PersonTests: it_should_return_name_and_dealbreaker_reason_for_dealbreaker_lead, time: <span class="token number">0</span>.027s</div><br><div class="line-0-0-16 " data-content="[pass] PersonTests: it_should_return_name_for_contact_person, time: 0.005s"><span class="lineCounter-0-0-15">2</span><span class="token punctuation">[</span>pass<span class="token punctuation">]</span> PersonTests: it_should_return_name_for_contact_person, time: <span class="token number">0</span>.005s</div><br><div class="line-0-0-16 " data-content="[pass] PersonTests: it_should_return_name_for_lead_person, time: 0.006s"><span class="lineCounter-0-0-15 prim">3</span><span class="token punctuation">[</span>pass<span class="token punctuation">]</span> PersonTests: it_should_return_name_for_lead_person, time: <span class="token number">0</span>.006s</div><br></code></pre><div class="tabs-0-0-18"><script id="YSCK_hStDX">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("YSCK_hStDX", "T764P9zpaV5eSCd1H0okyw==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script><div class="tab first selected" data-tab-title="The Tests Pass!"><p>Yum. Who doesn't love a nice passing test? But let's take it a step further. Let's say that management wants to receive a special alert for Leads who fall out with certain keywords left by Sales in the Lead's description field</p></div><div class="tab" data-tab-title="Footnote"><p>This is a stretch, for sure, but I'm trying to keep things simple for the purpose of these examples. You could actually imagine something like this taking place, with slightly different bounds; for example, wanting automation if a task was logged against a closed lead containing certain words</p></div></div><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public interface ISpecialDealBreaker extends IDealBreaker {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ISpecialDealBreaker</span> <span class="token keyword">extends</span> <span class="token class-name">IDealBreaker</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    Boolean isVIPLead();"><span class="lineCounter-0-0-15">2</span>    <span class="token class-name">Boolean</span> <span class="token function">isVIPLead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">3</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">4</span></div><br><div class="line-0-0-16 " data-content="//in Person.cls"><span class="lineCounter-0-0-15 prim">5</span><span class="token comment">//in Person.cls</span></div><br><div class="line-0-0-16 " data-content="public static ISpecialDealBreaker makeSpecial(Lead lead, String dealBreakerReason) {"><span class="lineCounter-0-0-15">6</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ISpecialDealBreaker</span> <span class="token function">makeSpecial</span><span class="token punctuation">(</span><span class="token class-name">Lead</span> lead<span class="token punctuation">,</span> <span class="token class-name">String</span> dealBreakerReason<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  return new SpecialDealBreakerPerson(lead, dealBreakerReason);"><span class="lineCounter-0-0-15">7</span>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">SpecialDealBreakerPerson</span><span class="token punctuation">(</span>lead<span class="token punctuation">,</span> dealBreakerReason<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">8</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">9</span></div><br><div class="line-0-0-16 " data-content="//updating the visibility of the stored"><span class="lineCounter-0-0-15 prim">10</span><span class="token comment">//updating the visibility of the stored</span></div><br><div class="line-0-0-16 " data-content="//person to protected so that SpecialDealBreakerPerson"><span class="lineCounter-0-0-15">11</span><span class="token comment">//person to protected so that SpecialDealBreakerPerson</span></div><br><div class="line-0-0-16 " data-content="//has access to it"><span class="lineCounter-0-0-15">12</span><span class="token comment">//has access to it</span></div><br><div class="line-0-0-16 " data-content="protected final SObject person;"><span class="lineCounter-0-0-15">13</span><span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token class-name">SObject</span> person<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="protected Person(SObject person) {"><span class="lineCounter-0-0-15">14</span><span class="token keyword">protected</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">SObject</span> person<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  this.person = person;"><span class="lineCounter-0-0-15 prim">15</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>person <span class="token operator">=</span> person<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">16</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">17</span></div><br><div class="line-0-0-16 " data-content="//class declarations can get a little"><span class="lineCounter-0-0-15">18</span><span class="token comment">//class declarations can get a little</span></div><br><div class="line-0-0-16 " data-content="//verbose with inheritance, it's true,"><span class="lineCounter-0-0-15">19</span><span class="token comment">//verbose with inheritance, it's true,</span></div><br><div class="line-0-0-16 " data-content="//but the benefits you gain more than make up for it!"><span class="lineCounter-0-0-15 prim">20</span><span class="token comment">//but the benefits you gain more than make up for it!</span></div><br><div class="line-0-0-16 " data-content="public virtual class SpecialDealBreakerPerson"><span class="lineCounter-0-0-15">21</span><span class="token keyword">public</span> virtual <span class="token keyword">class</span> <span class="token class-name">SpecialDealBreakerPerson</span></div><br><div class="line-0-0-16 " data-content="  extends DealBreakerPerson"><span class="lineCounter-0-0-15">22</span>  <span class="token keyword">extends</span> <span class="token class-name">DealBreakerPerson</span></div><br><div class="line-0-0-16 " data-content="  implements ISpecialDealBreaker {"><span class="lineCounter-0-0-15">23</span>  <span class="token keyword">implements</span> <span class="token class-name">ISpecialDealBreaker</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  protected SpecialDealBreakerPerson(Lead lead, String dealBreakerReason) {"><span class="lineCounter-0-0-15">24</span>  <span class="token keyword">protected</span> <span class="token class-name">SpecialDealBreakerPerson</span><span class="token punctuation">(</span><span class="token class-name">Lead</span> lead<span class="token punctuation">,</span> <span class="token class-name">String</span> dealBreakerReason<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    super(lead, dealBreakerReason);"><span class="lineCounter-0-0-15 prim">25</span>    <span class="token keyword">super</span><span class="token punctuation">(</span>lead<span class="token punctuation">,</span> dealBreakerReason<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">26</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">27</span></div><br><div class="line-0-0-16 " data-content="  public Boolean isVIPLead() {"><span class="lineCounter-0-0-15">28</span>  <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">isVIPLead</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    //use of the ternary to make this operation always safe"><span class="lineCounter-0-0-15">29</span>    <span class="token comment">//use of the ternary to make this operation always safe</span></div><br><div class="line-0-0-16 " data-content="    Lead lead = (Lead)this.person;"><span class="lineCounter-0-0-15 prim">30</span>    <span class="token class-name">Lead</span> lead <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Lead</span><span class="token punctuation">)</span><span class="token keyword">this</span><span class="token punctuation">.</span>person<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    List<String> descriptionWords = lead.Description != null ?"><span class="lineCounter-0-0-15">31</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> descriptionWords <span class="token operator">=</span> lead<span class="token punctuation">.</span><span class="token class-name">Description</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span></div><br><div class="line-0-0-16 " data-content="      lead.Description.split(' ') :"><span class="lineCounter-0-0-15">32</span>      lead<span class="token punctuation">.</span><span class="token class-name">Description</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">' '</span><span class="token punctuation">)</span> <span class="token operator">:</span></div><br><div class="line-0-0-16 " data-content="    Boolean hasMatch = false;"><span class="lineCounter-0-0-15">33</span>    <span class="token class-name">Boolean</span> hasMatch <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    for(String descriptionWord : descriptionWords) {"><span class="lineCounter-0-0-15">34</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> descriptionWord <span class="token operator">:</span> descriptionWords<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="        //typically, so-called &quot;magic&quot; strings that indicate something"><span class="lineCounter-0-0-15 prim">35</span>        <span class="token comment">//typically, so-called "magic" strings that indicate something</span></div><br><div class="line-0-0-16 " data-content="        //of business significance are declared as public static final Strings"><span class="lineCounter-0-0-15">36</span>        <span class="token comment">//of business significance are declared as public static final Strings</span></div><br><div class="line-0-0-16 " data-content="        //so that your test classes can use the same &quot;magic&quot; string in their setup"><span class="lineCounter-0-0-15">37</span>        <span class="token comment">//so that your test classes can use the same "magic" string in their setup</span></div><br><div class="line-0-0-16 " data-content="        //avoid non-constant strings unless you have absolutely no other choice"><span class="lineCounter-0-0-15">38</span>        <span class="token comment">//avoid non-constant strings unless you have absolutely no other choice</span></div><br><div class="line-0-0-16 " data-content="        if(descriptionWord.equalsIgnoreCase('SPECIALKEYWORD')) {"><span class="lineCounter-0-0-15">39</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>descriptionWord<span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token string">'SPECIALKEYWORD'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="            hasMatch = true;"><span class="lineCounter-0-0-15 prim">40</span>            hasMatch <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="            //&quot;break&quot; is a special keyword in loops"><span class="lineCounter-0-0-15">41</span>            <span class="token comment">//"break" is a special keyword in loops</span></div><br><div class="line-0-0-16 " data-content="            //that exits the loop early"><span class="lineCounter-0-0-15">42</span>            <span class="token comment">//that exits the loop early</span></div><br><div class="line-0-0-16 " data-content="            //this is a performance optimization -"><span class="lineCounter-0-0-15">43</span>            <span class="token comment">//this is a performance optimization -</span></div><br><div class="line-0-0-16 " data-content="            //once we know a match exists"><span class="lineCounter-0-0-15">44</span>            <span class="token comment">//once we know a match exists</span></div><br><div class="line-0-0-16 " data-content="            //we don't need to keep searching for"><span class="lineCounter-0-0-15 prim">45</span>            <span class="token comment">//we don't need to keep searching for</span></div><br><div class="line-0-0-16 " data-content="            //other matches"><span class="lineCounter-0-0-15">46</span>            <span class="token comment">//other matches</span></div><br><div class="line-0-0-16 " data-content="            break;"><span class="lineCounter-0-0-15">47</span>            <span class="token keyword">break</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="        }"><span class="lineCounter-0-0-15">48</span>        <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="        //you could keep going with this logic"><span class="lineCounter-0-0-15">49</span>        <span class="token comment">//you could keep going with this logic</span></div><br><div class="line-0-0-16 " data-content="        //testing different keywords"><span class="lineCounter-0-0-15 prim">50</span>        <span class="token comment">//testing different keywords</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">51</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="    return hasMatch;"><span class="lineCounter-0-0-15">52</span>    <span class="token keyword">return</span> hasMatch<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">53</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">54</span><span class="token punctuation">}</span></div><br></code></pre><p>And then in the tests, we should verify that <code>getName</code> is still callable by this now-grandchild instance of <code>ISpecialDealBreaker</code>, and that each method works as advertised:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//in PersonTests.cls"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//in PersonTests.cls</span></div><br><div class="line-0-0-16 " data-content="@isTest"><span class="lineCounter-0-0-15">2</span><span class="token annotation punctuation">@isTest</span></div><br><div class="line-0-0-16 " data-content="static void it_should_return_name_dealbreaker_reason_and_vip_status() {"><span class="lineCounter-0-0-15">3</span><span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">it_should_return_name_dealbreaker_reason_and_vip_status</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  String dealBreakerReason = 'Some other reason';"><span class="lineCounter-0-0-15">4</span>  <span class="token class-name">String</span> dealBreakerReason <span class="token operator">=</span> <span class="token string">'Some other reason'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  ISpecialDealBreaker specialLead = Person.makeSpecial(lead, dealBreakerReason);"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token class-name">ISpecialDealBreaker</span> specialLead <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token function">makeSpecial</span><span class="token punctuation">(</span>lead<span class="token punctuation">,</span> dealBreakerReason<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">6</span></div><br><div class="line-0-0-16 " data-content="  System.assertEquals('Test Person', specialLead.getName());"><span class="lineCounter-0-0-15">7</span>  <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">'Test Person'</span><span class="token punctuation">,</span> specialLead<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  System.assertEquals(dealBreakerReason, specialLead.getDealBreakerReason());"><span class="lineCounter-0-0-15">8</span>  <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span>dealBreakerReason<span class="token punctuation">,</span> specialLead<span class="token punctuation">.</span><span class="token function">getDealBreakerReason</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  System.assertEquals(false, specialLead.isVIPLead());"><span class="lineCounter-0-0-15">9</span>  <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> specialLead<span class="token punctuation">.</span><span class="token function">isVIPLead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15 prim">10</span></div><br><div class="line-0-0-16 " data-content="  lead.Description = 'something something SPECIALKEYWORD something';"><span class="lineCounter-0-0-15">11</span>  lead<span class="token punctuation">.</span><span class="token class-name">Description</span> <span class="token operator">=</span> <span class="token string">'something something SPECIALKEYWORD something'</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  //this works because the REFERENCE to the lead"><span class="lineCounter-0-0-15">12</span>  <span class="token comment">//this works because the REFERENCE to the lead</span></div><br><div class="line-0-0-16 " data-content="  //is still the same in the wrapper!"><span class="lineCounter-0-0-15">13</span>  <span class="token comment">//is still the same in the wrapper!</span></div><br><div class="line-0-0-16 " data-content="  System.assertEquals(true, specialLead.isVIPLead());"><span class="lineCounter-0-0-15">14</span>  <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> specialLead<span class="token punctuation">.</span><span class="token function">isVIPLead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">15</span><span class="token punctuation">}</span></div><br></code></pre><p>And the tests pass! We have access to the grandparent's methods from a grandchild instance.</p><p>I hope you can see from this (admittedly limited) example that inheritance and encapsulation can be combined to produce truly powerful results, putting business logic firmly into well-understood nomenclatures and keeping the messy parts contained (encapsulated) within objects.</p><p>One last note on the keyword <strong>virtual</strong>: when used with methods, a method can be both an <strong>override</strong> and <strong>virtual</strong>, as in <code>public virtual override Boolean myMethodName()</code> -- this indicates that a method is both implementing a method from an abstract/virtual class "above" it in the hierarchy, while <em>also</em> allowing classes that inherit from it to also override the implementation defined here.</p><h2 id="the-power-of-polymorphism" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>The Power Of Polymorphism</h2><p>So, we've learned about objects and how they can extend/inherit from one another with interfaces, abstract, and virtual classes. We've also learned about visibility and how to properly encapsulate the business logic within objects so that consumers of those objects get exactly what they need, and nothing more. We've learned about the importance of naming, and how to make code understandable to virtually anyone.</p><p>Perhaps you've heard a lot about polymorphism, and how you're supposed to use it to your advantage. To put it plainly, polymorphism means using the basic types of your objects instead of peering into their internals in order to figure out what to do.</p><p>First, here's an example of something that's procedural code making use of our <code>Person</code> object:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//in some class"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//in some class</span></div><br><div class="line-0-0-16 " data-content="public void processPersons(List<Person> persons) {"><span class="lineCounter-0-0-15">2</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">processPersons</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> persons<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  for(Person person : persons) {"><span class="lineCounter-0-0-15">3</span>  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Person</span> person <span class="token operator">:</span> persons<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    if(person instanceof Person.SpecialDealBreakerPerson) {"><span class="lineCounter-0-0-15">4</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>person <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">SpecialDealBreakerPerson</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      //don't process the VIPs"><span class="lineCounter-0-0-15 prim">5</span>      <span class="token comment">//don't process the VIPs</span></div><br><div class="line-0-0-16 " data-content="      continue;"><span class="lineCounter-0-0-15">6</span>      <span class="token keyword">continue</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    } else if(person instanceof Person.DealbreakerPerson) {"><span class="lineCounter-0-0-15">7</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>person <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">DealbreakerPerson</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      Person.DealBreakerPerson dealBreaker = (Person.DealBreakerPerson)person;"><span class="lineCounter-0-0-15">8</span>      <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">DealBreakerPerson</span> dealBreaker <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">DealBreakerPerson</span><span class="token punctuation">)</span>person<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="      dealBreaker.markAsDealBrokenAndProcessed(System.now());"><span class="lineCounter-0-0-15">9</span>      dealBreaker<span class="token punctuation">.</span><span class="token function">markAsDealBrokenAndProcessed</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    } else if(person instanceof Person.LeadPerson) {"><span class="lineCounter-0-0-15 prim">10</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>person <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">LeadPerson</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      Person.LeadPerson leadPerson = (Person.LeadPerson)person;"><span class="lineCounter-0-0-15">11</span>      <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">LeadPerson</span> leadPerson <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">LeadPerson</span><span class="token punctuation">)</span>person<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="      leadPerson.markLeadAsProcessed(System.now());"><span class="lineCounter-0-0-15">12</span>      leadPerson<span class="token punctuation">.</span><span class="token function">markLeadAsProcessed</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    } else if(person instanceof Person.ContactPerson) {"><span class="lineCounter-0-0-15">13</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>person <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">ContactPerson</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      Person.ContactPerson contactPerson = (Person.ContactPerson)person;"><span class="lineCounter-0-0-15">14</span>      <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">ContactPerson</span> contactPerson <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token class-name">ContactPerson</span><span class="token punctuation">)</span>person<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="      contactPerson.markAsProcessed(System.now());"><span class="lineCounter-0-0-15 prim">15</span>      contactPerson<span class="token punctuation">.</span><span class="token function">markAsProcessed</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    }"><span class="lineCounter-0-0-15">16</span>    <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">17</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">18</span><span class="token punctuation">}</span></div><br></code></pre><p>Without even seeing the internals of the methods like <code>markAsDealBrokenAndProcessed</code> and <code>markLeadAsProcessed</code>, you should be able to recognize that we're in a spot of trouble here. Imagine coming back to this code years down the line and trying to divine what was going on. You have some conditional logic that relies on the composition of the individual objects in a list, and depending on what type they are, you're going to do a whole host of things. Let's use the power of polymorphism to set this situation right:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="//in Person.cls"><span class="lineCounter-0-0-15 prim">1</span><span class="token comment">//in Person.cls</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">2</span></div><br><div class="line-0-0-16 " data-content="public virtual void process(Datetime processTime) {"><span class="lineCounter-0-0-15">3</span><span class="token keyword">public</span> virtual <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Datetime</span> processTime<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  //here we use a string instead of an SObjectField"><span class="lineCounter-0-0-15">4</span>  <span class="token comment">//here we use a string instead of an SObjectField</span></div><br><div class="line-0-0-16 " data-content="  //because we want both the Lead and Contact"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token comment">//because we want both the Lead and Contact</span></div><br><div class="line-0-0-16 " data-content="  //to make use of the same field!"><span class="lineCounter-0-0-15">6</span>  <span class="token comment">//to make use of the same field!</span></div><br><div class="line-0-0-16 " data-content="  this.person.put('ProcessTime__c', processTime);"><span class="lineCounter-0-0-15">7</span>  <span class="token keyword">this</span><span class="token punctuation">.</span>person<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">'ProcessTime__c'</span><span class="token punctuation">,</span> processTime<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">8</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">9</span></div><br><div class="line-0-0-16 " data-content="//..."><span class="lineCounter-0-0-15 prim">10</span><span class="token comment">//...</span></div><br><div class="line-0-0-16 " data-content="public virtual class DealBreakerPerson"><span class="lineCounter-0-0-15">11</span><span class="token keyword">public</span> virtual <span class="token keyword">class</span> <span class="token class-name">DealBreakerPerson</span></div><br><div class="line-0-0-16 " data-content="  extends LeadPerson"><span class="lineCounter-0-0-15">12</span>  <span class="token keyword">extends</span> <span class="token class-name">LeadPerson</span></div><br><div class="line-0-0-16 " data-content="  implements IDealBreaker {"><span class="lineCounter-0-0-15">13</span>  <span class="token keyword">implements</span> <span class="token class-name">IDealBreaker</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  private final String dealBreakerReason;"><span class="lineCounter-0-0-15">14</span>  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> dealBreakerReason<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  protected DealBreakerPerson(Lead lead, String dealBreakerReason) {"><span class="lineCounter-0-0-15 prim">15</span>  <span class="token keyword">protected</span> <span class="token class-name">DealBreakerPerson</span><span class="token punctuation">(</span><span class="token class-name">Lead</span> lead<span class="token punctuation">,</span> <span class="token class-name">String</span> dealBreakerReason<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    super(lead);"><span class="lineCounter-0-0-15">16</span>    <span class="token keyword">super</span><span class="token punctuation">(</span>lead<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    this.dealBreakerReason = dealBreakerReason;"><span class="lineCounter-0-0-15">17</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>dealBreakerReason <span class="token operator">=</span> dealBreakerReason<span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15">18</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">19</span></div><br><div class="line-0-0-16 " data-content="  //here we have to use virtual AND override so that"><span class="lineCounter-0-0-15 prim">20</span>  <span class="token comment">//here we have to use virtual AND override so that</span></div><br><div class="line-0-0-16 " data-content="  //SpecialDealBreakerPerson can bail out"><span class="lineCounter-0-0-15">21</span>  <span class="token comment">//SpecialDealBreakerPerson can bail out</span></div><br><div class="line-0-0-16 " data-content="  public virtual override void process(Datetime processTime) {"><span class="lineCounter-0-0-15">22</span>  <span class="token keyword">public</span> virtual override <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Datetime</span> processTime<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    //cool story - you can call &quot;super&quot;"><span class="lineCounter-0-0-15">23</span>    <span class="token comment">//cool story - you can call "super"</span></div><br><div class="line-0-0-16 " data-content="    //in virtual methods to opt-in to the parent's behavior"><span class="lineCounter-0-0-15">24</span>    <span class="token comment">//in virtual methods to opt-in to the parent's behavior</span></div><br><div class="line-0-0-16 " data-content="    //prior to doing your own thing"><span class="lineCounter-0-0-15 prim">25</span>    <span class="token comment">//prior to doing your own thing</span></div><br><div class="line-0-0-16 " data-content="    super.process(processTime);"><span class="lineCounter-0-0-15">26</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>processTime<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="    //assuming we have a custom field set up"><span class="lineCounter-0-0-15">27</span>    <span class="token comment">//assuming we have a custom field set up</span></div><br><div class="line-0-0-16 " data-content="    //to track DealBreakers in particular"><span class="lineCounter-0-0-15">28</span>    <span class="token comment">//to track DealBreakers in particular</span></div><br><div class="line-0-0-16 " data-content="    this.lead.DealBroken__c = true;"><span class="lineCounter-0-0-15">29</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>lead<span class="token punctuation">.</span><span class="token class-name">DealBroken__c</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15 prim">30</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  //..."><span class="lineCounter-0-0-15">31</span>  <span class="token comment">//...</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15">32</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">33</span></div><br><div class="line-0-0-16 " data-content="//..."><span class="lineCounter-0-0-15">34</span><span class="token comment">//...</span></div><br><div class="line-0-0-16 " data-content="public virtual class SpecialDealBreakerPerson"><span class="lineCounter-0-0-15 prim">35</span><span class="token keyword">public</span> virtual <span class="token keyword">class</span> <span class="token class-name">SpecialDealBreakerPerson</span></div><br><div class="line-0-0-16 " data-content="  extends DealBreakerPerson"><span class="lineCounter-0-0-15">36</span>  <span class="token keyword">extends</span> <span class="token class-name">DealBreakerPerson</span></div><br><div class="line-0-0-16 " data-content="  implements ISpecialDealBreaker {"><span class="lineCounter-0-0-15">37</span>  <span class="token keyword">implements</span> <span class="token class-name">ISpecialDealBreaker</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  protected SpecialDealBreakerPerson(Lead lead, String dealBreakerReason) {"><span class="lineCounter-0-0-15">38</span>  <span class="token keyword">protected</span> <span class="token class-name">SpecialDealBreakerPerson</span><span class="token punctuation">(</span><span class="token class-name">Lead</span> lead<span class="token punctuation">,</span> <span class="token class-name">String</span> dealBreakerReason<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="      super(lead, dealBreakerReason);"><span class="lineCounter-0-0-15">39</span>      <span class="token keyword">super</span><span class="token punctuation">(</span>lead<span class="token punctuation">,</span> dealBreakerReason<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15 prim">40</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content=""><span class="lineCounter-0-0-15">41</span></div><br><div class="line-0-0-16 " data-content="  //by leaving this method signature blank"><span class="lineCounter-0-0-15">42</span>  <span class="token comment">//by leaving this method signature blank</span></div><br><div class="line-0-0-16 " data-content="  //we are borrowing from the Null Object pattern"><span class="lineCounter-0-0-15">43</span>  <span class="token comment">//we are borrowing from the Null Object pattern</span></div><br><div class="line-0-0-16 " data-content="  //look it up, it's worth it!"><span class="lineCounter-0-0-15">44</span>  <span class="token comment">//look it up, it's worth it!</span></div><br><div class="line-0-0-16 " data-content="  public override void process(Datetime processTime) {}"><span class="lineCounter-0-0-15 prim">45</span>  <span class="token keyword">public</span> override <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Datetime</span> processTime<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  //..."><span class="lineCounter-0-0-15">46</span>  <span class="token comment">//...</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">47</span><span class="token punctuation">}</span></div><br></code></pre><p>Going back to our procedural code, it now looks fairly tame:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public void processPersons(List<Person> persons) {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">processPersons</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> persons<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  Datetime processedTime = System.now();"><span class="lineCounter-0-0-15">2</span>  <span class="token class-name">Datetime</span> processedTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  for(Person person : persons) {"><span class="lineCounter-0-0-15">3</span>  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Person</span> person <span class="token operator">:</span> persons<span class="token punctuation">)</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="    person.process(processedTime);"><span class="lineCounter-0-0-15">4</span>    person<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>processedTime<span class="token punctuation">)</span><span class="token punctuation">;</span></div><br><div class="line-0-0-16 " data-content="  }"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">6</span><span class="token punctuation">}</span></div><br></code></pre><p>Boom! If you need to check this code years down the line, or (heaven forbid!) make changes to it, the business logic for processing people of different business specifications is now completely encapsulated within their respective classes. This minimizes the chance for bugs by reducing procedural code (<strong>if</strong> statements and <strong>case</strong> statements being where the vast majority of bugs that I have personally encountered derive from), and it also helps to properly categorize things.</p><h2 id="the-transient-keyword" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>The Transient Keyword</h2><p>You won't see <strong>transient</strong> used often, until you do. A property on an object can be marked as transient in order to avoid being serialized:</p><pre class=""><code class="java code-0-0-14" tabindex="0"><span class="wmbar-0-0-17"><span></span><span></span><span></span><span></span></span><div class="line-0-0-16 " data-content="public class DataTransferObject {"><span class="lineCounter-0-0-15 prim">1</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataTransferObject</span> <span class="token punctuation">{</span></div><br><div class="line-0-0-16 " data-content="  //will show up when serialized"><span class="lineCounter-0-0-15">2</span>  <span class="token comment">//will show up when serialized</span></div><br><div class="line-0-0-16 " data-content="  public Person Person { get; set; }"><span class="lineCounter-0-0-15">3</span>  <span class="token keyword">public</span> <span class="token class-name">Person</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span> get<span class="token punctuation">;</span> set<span class="token punctuation">;</span> <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="  //this property is hidden upon serialization"><span class="lineCounter-0-0-15">4</span>  <span class="token comment">//this property is hidden upon serialization</span></div><br><div class="line-0-0-16 " data-content="  public transient Integer VersionNumber { get; set; }"><span class="lineCounter-0-0-15 prim">5</span>  <span class="token keyword">public</span> <span class="token keyword">transient</span> <span class="token class-name">Integer</span> <span class="token class-name">VersionNumber</span> <span class="token punctuation">{</span> get<span class="token punctuation">;</span> set<span class="token punctuation">;</span> <span class="token punctuation">}</span></div><br><div class="line-0-0-16 " data-content="}"><span class="lineCounter-0-0-15 prim">6</span><span class="token punctuation">}</span></div><br></code></pre><p><strong>Serialization</strong>, or the mechanism by which an object is turned into a String version of itself, is commonly seen when interacting with external APIs. It's also a way for you to get clever with Apex's insistence that <strong>@future</strong> methods only accept simple types, like Strings (for more on that, take a look at the post on <a href="/joys-of-apex/future-method-callout-callback/">Callouts / Callbacks</a> that I wrote!!). If you don't work with external APIs often, or don't need to hide data from those APIs, there's a good chance you will <em>never</em> use the <strong>transient</strong> keyword!</p><h2 id="wrapping-up" class="heading-0-0-12"><span class="anchor-0-0-13" data-ignore-text=""><span class="icon-font" data-ignore-text="" style="vertical-align: sub">link</span></span>Wrapping Up</h2><p>Well, we've really experienced it all together! We've gone from examining the origin of the "object" part of "object-oriented programming" to seeing firsthand how polymorphism can properly encapsulate business logic within classes. At this point, I'd love to recommend some additional resources for those of you beginning your Apex journey.</p><p>The three books I benefitted most from reading when I started out:</p><ul><li><a href="https://smile.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882/">Clean Code</a></li><li><a href="https://smile.amazon.com/Art-Unit-Testing-examples/dp/1617290890">The Art Of Unit Testing</a></li><li><a href="https://smile.amazon.com/Test-Driven-Development-Kent-Beck/dp/0321146530">Test Driven Development By Example</a></li></ul><p>Perhaps some of you are surprised that Dan Appleman's book, <a href="https://smile.amazon.com/Advanced-Apex-Programming-Salesforce-Appleman/dp/1936754126/">Advanced Apex Programming</a> doesn't make the list. Here's why -- I think Advanced Apex Programming is great. It's held up remarkably well, even as Salesforce's platform has evolved. It doesn't teach the fundementals, though, or why the fundementals are important. For that, I think the classic texts associated with object-oriented programming cover crucial teaching ground!</p><p>Hopefully for those of you looking to get into Apex, or searching for a deeper understanding of concepts taught in a simple way, this proves to be a helpful resource for you. I'd like to thank you for taking the time to learn alongside me, and I hope that you'll check out other entries in <a href="/joys-of-apex/">The Joys Of Apex</a>! If you'd like to persuse the code from this post, please feel free to explore further via my <a href="https://github.com/jamessimone/apex-mocks-stress-test/tree/object-oriented-basics/">ApexMock's Github branch for object-oriented programming basics</a>.</p><div class="contentnav-0-0-7" data-no-search=""><a href="#the-importance-of-code-quality-and-compassion" class="h2" data-content-highlight="the-importance-of-code-quality-and-compassion">The Importance of Code Quality (And Compassion)</a><a href="#object-oriented-programming-basics" class="h2" data-content-highlight="object-oriented-programming-basics">Object Oriented Programming Basics</a><a href="#the-importance-of-encapsulation-accessors-publicprivate" class="h3" data-content-highlight="the-importance-of-encapsulation-accessors-publicprivate">The Importance Of Encapsulation (Accessors: Public/Private)</a><a href="#namespacing" class="h3" data-content-highlight="namespacing">Namespacing</a><a href="#use-of-the-this-keyword" class="h3" data-content-highlight="use-of-the-this-keyword">Use Of The "This" Keyword</a><a href="#inheritance-class-and-method-decorations" class="h2" data-content-highlight="inheritance-class-and-method-decorations">Inheritance (Class and Method Decorations)</a><a href="#inheritance-basics-casting-objects-to-a-specific-type" class="h3" data-content-highlight="inheritance-basics-casting-objects-to-a-specific-type">Inheritance Basics: Casting Objects To A Specific Type</a><a href="#so-what-exactly-is-an-sobject" class="h3" data-content-highlight="so-what-exactly-is-an-sobject">So What Exactly Is An SObject?</a><a href="#making-objects-inherit-interfaces-abstractvirtual-classes--the-protected-keyword" class="h3" data-content-highlight="making-objects-inherit-interfaces-abstractvirtual-classes--the-protected-keyword">Making Objects Inherit: Interfaces, Abstract/Virtual Classes &amp; The Protected Keyword</a><a href="#a-prelude-to-polymorphism" class="h3" data-content-highlight="a-prelude-to-polymorphism">A Prelude to Polymorphism</a><a href="#the-power-of-polymorphism" class="h2" data-content-highlight="the-power-of-polymorphism">The Power Of Polymorphism</a><a href="#the-transient-keyword" class="h2" data-content-highlight="the-transient-keyword">The Transient Keyword</a><a href="#wrapping-up" class="h2" data-content-highlight="wrapping-up">Wrapping Up</a></div></div><div id="-codedoc-toc" class="toc-0-0-4"><div class="content-0-0-5"><p><a href="/joys-of-apex/">Home</a>
<a href="/joys-of-apex/apex-logging-service">Apex Logging Service</a>
<a href="/joys-of-apex/apex-object-oriented-basics">Apex Object-Oriented Basics</a>
<a href="/joys-of-apex/batchable-and-queueable-apex">Batchable And Queueable Apex</a>
<a href="/joys-of-apex/building-a-better-singleton">Building A Better Singleton</a>
<a href="/joys-of-apex/continuous-integration-with-sfdx">Continuous Integration With SFDX</a>
<a href="/joys-of-apex/dependency-injection-factory-pattern">Dependency Injection &amp; Factory Pattern</a>
<a href="/joys-of-apex/enum-apex-class-gotchas">Enum Apex Class Gotchas</a>
<a href="/joys-of-apex/extendable-apis">Extendable Apis</a>
<a href="/joys-of-apex/future-method-callout-callback">Future Methods, Callouts &amp; Callbacks</a>
<a href="/joys-of-apex/idiomatic-salesforce-apex">Idiomatic Salesforce Apex</a>
<a href="/joys-of-apex/intro">Introduction &amp; Testing Philosophy</a>
<a href="/joys-of-apex/lazy-iterators">Lazy Iterators</a>
<a href="/joys-of-apex/lightweight-trigger-handler">Lightweight Trigger Handler</a>
<a href="/joys-of-apex/lwc-composable-pagination">LWC Composable Pagination</a>
<a href="/joys-of-apex/mocking-dml">Mocking DML</a>
<a href="/joys-of-apex/react-versus-lightning-web-components">React Versus Lightning Web Components</a>
<a href="/joys-of-apex/repository-pattern">Repository Pattern</a>
<a href="/joys-of-apex/sorting-and-performance-in-apex">Sorting And Performance In Apex</a>
<a href="/joys-of-apex/test-driven-development-example">Test Driven Development Example</a>
<a href="/joys-of-apex/writing-performance-apex-tests">Writing Performant Apex Tests</a></p><p><br><br></p><p><a href="https://www.jamessimone.net/">Read more tech articles</a></p></div></div><div class="footer-0-0-3"><div class="left"><script id="QIeKDzfOvm">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("QIeKDzfOvm", "BWW0vHR4333HbDOiwZ67JA==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div><div class="main"><div class="inside"></div></div><div class="right"><script id="GMPYxxeYiP">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("GMPYxxeYiP", "6yEdMfRRlNsUBKSBOTazFg==", {});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></div></div><script id="tEGjDMLj_D">(function(){function load(){if (window.__sdh_transport){window.__sdh_transport("tEGjDMLj_D", "wh9V9isakhdwzlz9ZUjvyw==", {"namespace":"/joys-of-apex"});} }; if (document.readyState == 'complete') load(); else window.addEventListener('load', load); })()</script></body></html>